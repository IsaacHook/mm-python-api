
<div class="row">
    <div class="col-md-10 col-sm-12" id="machine-motion-content">
        <img  style="width:90%" src= "https://s3.amazonaws.com/ventioncms/vention_images/images/000/002/182/large/api-reference.jpg?1573771416">        
        <dl class="funcWrapper" >
    <dt id=bindeStopEvent  style="cursor:pointer;" data-toggle="collapse" href= "#bindeStopEventshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>bindeStopEvent</b> </span>
                        (<span class="func funcParamHeading">
                                callback_function
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#bindeStopEventshowDescription" id="bindeStopEventshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Configures a user defined function to execute immediately after an E-stop event.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>callback_function</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>function</code></span>
                    -
                    <span class = "funcText">          
                        The function to be executed after an e-stop is triggered.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#bindeStopEventcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#bindeStopEventcollapseParent" id="bindeStopEventcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">bindeStopEvent</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback_function</span><span class="p">)</span> <span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eStopCallback</span> <span class="o">=</span> <span class="n">callback_function</span>
        <span class="k">return</span>
</pre></div>

        </div>



 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=configAxis  style="cursor:pointer;" data-toggle="collapse" href= "#configAxisshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>configAxis</b> </span>
                        (<span class="func funcParamHeading">
                                axis,uStep,mechGain
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#configAxisshowDescription" id="configAxisshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Configures motion parameters for a single axis.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axis</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The axis to configure.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>uStep</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The microstep setting of the axis.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>mechGain</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The distance moved by the actuator for every full rotation of the stepper motor, in mm/revolution.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#configAxiscollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#configAxiscollapseParent" id="configAxiscollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">configAxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">uStep</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span> <span class="p">:</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">u_step</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">uStep</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mech_gain</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">mechGain</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">steps_mm</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">=</span> <span class="n">STEPPER_MOTOR</span><span class="o">.</span><span class="n">steps_per_turn</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">u_step</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">mech_gain</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;M92 &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steps_mm</span><span class="p">[</span><span class="n">axis</span><span class="p">]))</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#configAxisv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="configAxisv1_collapseExample">
            <button type="button" data-parent ="#configAxiscollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('configAxisexampleCode', 'configAxis')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "configAxisv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="c1"># Configure the axis number 1, 8 uSteps and 150 mm / turn for a timing belt</span>
<span class="n">axis</span> <span class="o">=</span> <span class="n">AXIS_NUMBER</span><span class="o">.</span><span class="n">DRIVE1</span>
<span class="n">uStep</span> <span class="o">=</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">uStep</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; configured with &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">uStep</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; microstepping and &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">mechGain</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/turn mechanical gain&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">The uStep setting is hardcoded into the machinemotion controller through a DIP switch and is by default set to 8. The value here must match the value on the DIP Switch.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=configAxisDirection  style="cursor:pointer;" data-toggle="collapse" href= "#configAxisDirectionshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>configAxisDirection</b> </span>
                        (<span class="func funcParamHeading">
                                axis,direction
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#configAxisDirectionshowDescription" id="configAxisDirectionshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Configures a single axis to operate in either clockwise (normal) or counterclockwise (reverse) mode. Refer to the Automation System Diagram for the correct axis setting.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axis</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The specified axis.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>direction</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        A string of value either either 'Normal' or 'Reverse'. 'Normal' direction means the axis will home towards end stop sensor A and reverse will make the axis home towards end stop B.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#configAxisDirectioncollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#configAxisDirectioncollapseParent" id="configAxisDirectioncollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">configAxisDirection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">):</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">=</span> <span class="n">direction</span>

        <span class="k">if</span><span class="p">(</span><span class="n">direction</span> <span class="o">==</span> <span class="n">DIRECTION</span><span class="o">.</span><span class="n">NORMAL</span><span class="p">):</span>
            <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;M92 &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steps_mm</span><span class="p">[</span><span class="n">axis</span><span class="p">]))</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">direction</span> <span class="o">==</span> <span class="n">DIRECTION</span><span class="o">.</span><span class="n">REVERSE</span><span class="p">):</span>
            <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;M92 &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steps_mm</span><span class="p">[</span><span class="n">axis</span><span class="p">]))</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#configAxisDirectionv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="configAxisDirectionv1_collapseExample">
            <button type="button" data-parent ="#configAxisDirectioncollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('configAxisDirectionexampleCode', 'configAxisDirection')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "configAxisDirectionv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">axis</span> <span class="o">=</span> <span class="n">AXIS_NUMBER</span><span class="o">.</span><span class="n">DRIVE1</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span><span class="p">)</span>

<span class="n">homesTowards</span><span class="o">=</span><span class="p">{</span>
    <span class="n">DIRECTION</span><span class="o">.</span><span class="n">POSITIVE</span><span class="p">:</span> <span class="s2">&quot;sensor &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="n">DIRECTION</span><span class="o">.</span><span class="n">NEGATIVE</span><span class="p">:</span> <span class="s2">&quot;sensor &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;B&quot;</span>
<span class="p">}</span>

<span class="n">direction</span> <span class="o">=</span> <span class="n">DIRECTION</span><span class="o">.</span><span class="n">POSITIVE</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is set to &quot;</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">+</span> <span class="s2">&quot; mode. It will now home towards &quot;</span> <span class="o">+</span> <span class="n">homesTowards</span><span class="p">[</span><span class="n">direction</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxisDirection</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>

<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>

<span class="n">direction</span> <span class="o">=</span> <span class="n">DIRECTION</span><span class="o">.</span><span class="n">NEGATIVE</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is set to &quot;</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">+</span> <span class="s2">&quot; mode. It will now home towards &quot;</span> <span class="o">+</span> <span class="n">homesTowards</span><span class="p">[</span><span class="n">direction</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxisDirection</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>

<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">For more details on how to properly set the axis direction, please see <a href="https://vention-demo.herokuapp.com/technical-documents/machine-motion-user-manual-123#actuator-hardware-configuration"> here </a></div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=configHomingSpeed  style="cursor:pointer;" data-toggle="collapse" href= "#configHomingSpeedshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>configHomingSpeed</b> </span>
                        (<span class="func funcParamHeading">
                                axes,speeds,units
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#configHomingSpeedshowDescription" id="configHomingSpeedshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Sets homing speed for all 3 axes.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axes</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>List</code></span>
                    -
                    <span class = "funcText">          
                        A list of the axes to configure. ex - [1,2,3]
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>speeds</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>List</code></span>
                    -
                    <span class = "funcText">          
                        A list of homing speeds to set for each axis. ex - [50, 50, 100]
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>units</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Optional. Default = UNITS_SPEED.mm_per_sec 
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        Units for speed. Can be switched to UNITS_SPEED.mm_per_min
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#configHomingSpeedcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#configHomingSpeedcollapseParent" id="configHomingSpeedcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">configHomingSpeed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">,</span> <span class="n">speeds</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_sec</span><span class="p">):</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">axes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>
            <span class="n">speeds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">speeds</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="n">axes</span><span class="p">]</span>
            <span class="n">speeds</span> <span class="o">=</span> <span class="p">[</span><span class="n">speeds</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">speeds</span><span class="p">):</span>
            <span class="k">class</span> <span class="nc">InputsError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
                <span class="k">pass</span>
            <span class="k">raise</span> <span class="n">InputsError</span><span class="p">(</span><span class="s2">&quot;axes and speeds must be of same length&quot;</span><span class="p">)</span>

        <span class="n">gCodeCommand</span> <span class="o">=</span> <span class="s2">&quot;V2&quot;</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">axis</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">axes</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">units</span> <span class="o">==</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_sec</span><span class="p">:</span>
                <span class="n">speed_mm_per_min</span> <span class="o">=</span> <span class="n">speeds</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">*</span> <span class="mi">60</span>
            <span class="k">elif</span> <span class="n">units</span> <span class="o">==</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_min</span><span class="p">:</span>
                <span class="n">speed_mm_per_min</span> <span class="o">=</span> <span class="n">speeds</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">speed_mm_per_min</span> <span class="o">&lt;</span> <span class="n">HARDWARE_MIN_HOMING_FEEDRATE</span><span class="p">:</span>
                <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">HomingSpeedOutOfBounds</span><span class="p">(</span><span class="s2">&quot;Your desired homing speed of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">speed_mm_per_min</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/min can not be less than &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">HARDWARE_MIN_HOMING_FEEDRATE</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/min (&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">HARDWARE_MIN_HOMING_FEEDRATE</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/sec).&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">speed_mm_per_min</span> <span class="o">&gt;</span> <span class="n">HARDWARE_MAX_HOMING_FEEDRATE</span><span class="p">:</span>
                <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">HomingSpeedOutOfBounds</span><span class="p">(</span><span class="s2">&quot;Your desired homing speed of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">speed_mm_per_min</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/min can not be greater than &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">HARDWARE_MAX_HOMING_FEEDRATE</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/min (&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">HARDWARE_MAX_HOMING_FEEDRATE</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/sec)&quot;</span><span class="p">)</span>

            <span class="n">gCodeCommand</span> <span class="o">=</span> <span class="n">gCodeCommand</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">speed_mm_per_min</span><span class="p">)</span>

        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="n">gCodeCommand</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#configHomingSpeedv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="configHomingSpeedv1_collapseExample">
            <button type="button" data-parent ="#configHomingSpeedcollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('configHomingSpeedexampleCode', 'configHomingSpeed')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "configHomingSpeedv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">axis</span> <span class="o">=</span> <span class="mi">3</span>                                    <span class="c1">#The axis that you&#39;d like to move</span>
<span class="n">homingSpeeds</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">]</span>                        <span class="c1">#The homing speeds to set for each axis</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moving to position = 100&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAbsoluteMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>

<span class="c1">#Sets minimum and maximum allowable homing speeds for each axis</span>
<span class="n">minHomingSpeeds</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
<span class="n">maxHomingSpeeds</span> <span class="o">=</span> <span class="p">[</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">]</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configMinMaxHomingSpeed</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span><span class="n">minHomingSpeeds</span><span class="p">,</span> <span class="n">maxHomingSpeeds</span><span class="p">,</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_sec</span><span class="p">)</span>

<span class="c1">#Sets homing speeds for all three axes. The selected homing speed must be within the range set by configMinMaxHomingSpeeds</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configHomingSpeed</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">homingSpeeds</span><span class="p">)</span>

<span class="c1">#Homes the axis at the newly configured homing speed.</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">Once set, the homing speed will apply to all programs, including MachineLogic applications.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=configMachineMotionIp  style="cursor:pointer;" data-toggle="collapse" href= "#configMachineMotionIpshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>configMachineMotionIp</b> </span>
                        (<span class="func funcParamHeading">
                                mode,machineIp,machineNetmask,machineGateway
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#configMachineMotionIpshowDescription" id="configMachineMotionIpshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Set up the required network information for the Machine Motion controller. The router can be configured in either DHCP mode or static mode.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>mode</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Constant</code></span>
                    -
                    <span class = "funcText">          
                        Sets Network Mode to either DHCP or static addressing. Either <code>NETWORK_MODE.static</code> or <code>NETWORK_MODE.dhcp</code>
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>machineIp</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        The static IP Address given to the controller. (Required if mode = <code>NETWORK_MODE.static</code>)
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>machineNetmask</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        The netmask IP Address given to the controller. (Required if mode = <code>NETWORK_MODE.static</code>)
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>machineGateway</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        The gateway IP Address given to the controller. (Required if mode = <code>NETWORK_MODE.static</code>)
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#configMachineMotionIpcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#configMachineMotionIpcollapseParent" id="configMachineMotionIpcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">configMachineMotionIp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">machineIp</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">machineNetmask</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">machineGateway</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>

        <span class="k">if</span><span class="p">(</span><span class="n">mode</span> <span class="o">==</span> <span class="n">NETWORK_MODE</span><span class="o">.</span><span class="n">static</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">machineIp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">machineNetmask</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">machineGateway</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="p">:</span>
               <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;NETWORK ERROR: machineIp, machineNetmask and machineGateway cannot be left blank in static mode&quot;</span><span class="p">)</span>

               <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># Create a new object and augment it with the key value.</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">myConfiguration</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="k">if</span> <span class="n">machineIp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">myConfiguration</span><span class="p">[</span><span class="s2">&quot;machineIp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">machineIp</span>
        <span class="k">if</span> <span class="n">machineNetmask</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">myConfiguration</span><span class="p">[</span><span class="s2">&quot;machineNetmask&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">machineNetmask</span>
        <span class="k">if</span> <span class="n">machineGateway</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">myConfiguration</span><span class="p">[</span><span class="s2">&quot;machineGateway&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">machineGateway</span>

        <span class="n">HTTPSend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">IP</span> <span class="o">+</span> <span class="s2">&quot;:8000&quot;</span><span class="p">,</span> <span class="s2">&quot;/configIp&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">myConfiguration</span><span class="p">))</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#configMachineMotionIpv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="configMachineMotionIpv1_collapseExample">
            <button type="button" data-parent ="#configMachineMotionIpcollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('configMachineMotionIpexampleCode', 'configMachineMotionIp')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "configMachineMotionIpv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1">#Initialize MachineMotion with default IP address</span>
<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Application Message: MachineMotion Controller Connected&quot;</span><span class="p">)</span>

<span class="c1">#Configure machine motion with a static IP address</span>
<span class="n">mode</span> <span class="o">=</span> <span class="n">NETWORK_MODE</span><span class="o">.</span><span class="n">static</span>
<span class="n">machineIp</span> <span class="o">=</span> <span class="s2">&quot;192.168.0.2&quot;</span>
<span class="n">machineNetmask</span><span class="o">=</span><span class="s2">&quot;255.255.255.0&quot;</span>
<span class="n">machineGateway</span> <span class="o">=</span> <span class="s2">&quot;192.168.0.1&quot;</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configMachineMotionIp</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="n">machineIp</span><span class="p">,</span> <span class="n">machineNetmask</span><span class="p">,</span> <span class="n">machineGateway</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MachineMotion configured in static mode with an ip of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">machineIp</span><span class="p">)</span> <span class="o">+</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>


<span class="c1">#Configure MachineMotion IP to use Dynamic Host Configuration Protocol (DHCP)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configMachineMotionIp</span><span class="p">(</span><span class="n">NETWORK_MODE</span><span class="o">.</span><span class="n">dhcp</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MachineMotion configured in DHCP mode.&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=configMinMaxHomingSpeed  style="cursor:pointer;" data-toggle="collapse" href= "#configMinMaxHomingSpeedshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>configMinMaxHomingSpeed</b> </span>
                        (<span class="func funcParamHeading">
                                axes,minspeeds,maxspeeds
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#configMinMaxHomingSpeedshowDescription" id="configMinMaxHomingSpeedshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Sets the minimum and maximum homing speeds for each axis.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axes</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>List</code></span>
                    -
                    <span class = "funcText">          
                        a list of the axes that require minimum and maximum homing speeds.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>minspeeds</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>List</code></span>
                    -
                    <span class = "funcText">          
                        the minimum speeds for each axis.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>maxspeeds</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>List</code></span>
                    -
                    <span class = "funcText">          
                        the maximum speeds for each axis, in the same order as the axes parameter
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#configMinMaxHomingSpeedcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#configMinMaxHomingSpeedcollapseParent" id="configMinMaxHomingSpeedcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">configMinMaxHomingSpeed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">,</span> <span class="n">minspeeds</span><span class="p">,</span> <span class="n">maxspeeds</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_sec</span><span class="p">):</span>
        <span class="n">gCodeCommand</span> <span class="o">=</span> <span class="s2">&quot;V1&quot;</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">axis</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">axes</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">units</span> <span class="o">==</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_sec</span><span class="p">:</span>
                <span class="n">min_speed_mm_per_min</span> <span class="o">=</span> <span class="n">minspeeds</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">*</span> <span class="mi">60</span>
                <span class="n">max_speed_mm_per_min</span> <span class="o">=</span> <span class="n">maxspeeds</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">*</span> <span class="mi">60</span>
            <span class="k">elif</span> <span class="n">units</span> <span class="o">==</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_min</span><span class="p">:</span>
                <span class="n">min_speed_mm_per_min</span> <span class="o">=</span> <span class="n">minspeeds</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                <span class="n">max_speed_mm_per_min</span> <span class="o">=</span> <span class="n">maxspeeds</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">min_speed_mm_per_min</span> <span class="o">&lt;</span> <span class="n">HARDWARE_MIN_HOMING_FEEDRATE</span><span class="p">:</span>
                <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">HomingSpeedOutOfBounds</span><span class="p">(</span><span class="s2">&quot;Your desired homing speed of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">min_speed_mm_per_min</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/min can not be less than &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">HARDWARE_MIN_HOMING_FEEDRATE</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/min (&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">HARDWARE_MIN_HOMING_FEEDRATE</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/sec).&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">max_speed_mm_per_min</span> <span class="o">&gt;</span> <span class="n">HARDWARE_MAX_HOMING_FEEDRATE</span><span class="p">:</span>
                <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">HomingSpeedOutOfBounds</span><span class="p">(</span><span class="s2">&quot;Your desired homing speed of &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">max_speed_mm_per_min</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/min can not be greater than &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">HARDWARE_MAX_HOMING_FEEDRATE</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/min (&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">HARDWARE_MAX_HOMING_FEEDRATE</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm/sec)&quot;</span><span class="p">)</span>

            <span class="n">gCodeCommand</span> <span class="o">=</span> <span class="n">gCodeCommand</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">min_speed_mm_per_min</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">max_speed_mm_per_min</span><span class="p">)</span>


        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="n">gCodeCommand</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#configMinMaxHomingSpeedv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="configMinMaxHomingSpeedv1_collapseExample">
            <button type="button" data-parent ="#configMinMaxHomingSpeedcollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('configMinMaxHomingSpeedexampleCode', 'configMinMaxHomingSpeed')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "configMinMaxHomingSpeedv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">axis</span> <span class="o">=</span> <span class="mi">3</span>                                    <span class="c1">#The axis that you&#39;d like to move</span>
<span class="n">homingSpeeds</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">]</span>                        <span class="c1">#The homing speeds to set for each axis</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moving to position = 100&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAbsoluteMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>

<span class="c1">#Sets minimum and maximum allowable homing speeds for each axis</span>
<span class="n">minHomingSpeeds</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
<span class="n">maxHomingSpeeds</span> <span class="o">=</span> <span class="p">[</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">]</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configMinMaxHomingSpeed</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span><span class="n">minHomingSpeeds</span><span class="p">,</span> <span class="n">maxHomingSpeeds</span><span class="p">,</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_sec</span><span class="p">)</span>

<span class="c1">#Sets homing speeds for all three axes. The selected homing speed must be within the range set by configMinMaxHomingSpeeds</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configHomingSpeed</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">homingSpeeds</span><span class="p">)</span>

<span class="c1">#Homes the axis at the newly configured homing speed.</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">This function can be used to set safe limits on homing speed. Because homing speed is configured only through software aPI, this safeguards against developers accidently modifying homing speed to unsafe levels.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=detectIOModules  style="cursor:pointer;" data-toggle="collapse" href= "#detectIOModulesshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>detectIOModules</b> </span>
                    ( )
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#detectIOModulesshowDescription" id="detectIOModulesshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Returns a dictionary containing all detected IO Modules.
            </div>
        </dd>



        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            Dictionary with keys of format "Digital IO Network Id [id]" and values [id] where [id] is the network IDs of all connected digital IO modules.
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#detectIOModulescollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#detectIOModulescollapseParent" id="detectIOModulescollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">detectIOModules</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">class</span> <span class="nc">NoIOModulesFound</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="n">foundIOModules</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">numIOModules</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># IO module possible addresses are 1, 2, 3</span>
        <span class="k">for</span> <span class="n">ioDeviceID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isIoExpanderAvailable</span><span class="p">(</span><span class="n">ioDeviceID</span><span class="p">):</span>
                <span class="n">foundIOModules</span><span class="p">[</span><span class="s2">&quot;Digital IO Network Id &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ioDeviceID</span><span class="p">)]</span> <span class="o">=</span> <span class="n">ioDeviceID</span>
                <span class="n">numIOModules</span> <span class="o">=</span> <span class="n">numIOModules</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">numIOModules</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoIOModulesFound</span><span class="p">(</span><span class="s2">&quot;Application Error: No IO Modules found. Please verify the connection between Digital IO and MachineMotion.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">foundIOModules</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#detectIOModulesv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="detectIOModulesv1_collapseExample">
            <button type="button" data-parent ="#detectIOModulescollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('detectIOModulesexampleCode', 'detectIOModules')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "detectIOModulesv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="c1"># System imports</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="c1"># Custom imports</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>


<span class="c1">#Reads and Prints all input values on all connected digital IO Modules</span>
<span class="n">detectedIOModules</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">detectIOModules</span><span class="p">()</span>
<span class="k">for</span> <span class="n">IO_Name</span><span class="p">,</span> <span class="n">IO_NetworkID</span> <span class="ow">in</span> <span class="n">detectedIOModules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
   <span class="n">readPins</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Pin 1&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Pin 2&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Pin 3&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Pin 4&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
   <span class="k">for</span> <span class="n">readPin</span> <span class="ow">in</span> <span class="n">readPins</span><span class="p">:</span>
       <span class="n">pinValue</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">IO_NetworkID</span><span class="p">,</span> <span class="n">readPins</span><span class="p">[</span><span class="n">readPin</span><span class="p">])</span>
       <span class="nb">print</span><span class="p">(</span><span class="n">readPin</span> <span class="o">+</span> <span class="s2">&quot; on &quot;</span> <span class="o">+</span> <span class="n">IO_Name</span> <span class="o">+</span> <span class="s2">&quot; has value &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pinValue</span><span class="p">))</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">For more information, please see the digital IO datasheet <a href="https://www.vention.io/technical-documents/digital-io-module-datasheet-70">here</a></div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=digitalRead  style="cursor:pointer;" data-toggle="collapse" href= "#digitalReadshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>digitalRead</b> </span>
                        (<span class="func funcParamHeading">
                                deviceNetworkId,pin
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#digitalReadshowDescription" id="digitalReadshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Reads the state of a digital IO modules input pins.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>deviceNetworkId</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        The IO Modules device network ID. It can be found printed on the product sticker on the back of the digital IO module.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>pin</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        The index of the input pin.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            Returns 1 if the input pin is logic HIGH (24V) and returns 0 if the input pin is logic LOW (0V).
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#digitalReadcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#digitalReadcollapseParent" id="digitalReadcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">digitalRead</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deviceNetworkId</span><span class="p">,</span> <span class="n">pin</span><span class="p">)</span> <span class="p">:</span>

        <span class="k">if</span> <span class="p">(</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isIoExpanderInputIdValid</span><span class="p">(</span> <span class="n">deviceNetworkId</span><span class="p">,</span> <span class="n">pin</span> <span class="p">)</span> <span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;DEBUG: unexpected digital-output parameters: device= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">deviceNetworkId</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; pin= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pin</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;digitalInputs&#39;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">digitalInputs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">deviceNetworkId</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">digitalInputs</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">digitalInputs</span><span class="p">[</span><span class="n">deviceNetworkId</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">pin</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">digitalInputs</span><span class="p">[</span><span class="n">deviceNetworkId</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">digitalInputs</span><span class="p">[</span><span class="n">deviceNetworkId</span><span class="p">][</span><span class="n">pin</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">digitalInputs</span><span class="p">[</span><span class="n">deviceNetworkId</span><span class="p">][</span><span class="n">pin</span><span class="p">]</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#digitalReadv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="digitalReadv1_collapseExample">
            <button type="button" data-parent ="#digitalReadcollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('digitalReadexampleCode', 'digitalRead')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "digitalReadv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="c1"># System imports</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="c1"># Custom imports</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>


<span class="c1">#Reads and Prints all input values on all connected digital IO Modules</span>
<span class="n">detectedIOModules</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">detectIOModules</span><span class="p">()</span>
<span class="k">for</span> <span class="n">IO_Name</span><span class="p">,</span> <span class="n">IO_NetworkID</span> <span class="ow">in</span> <span class="n">detectedIOModules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
   <span class="n">readPins</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Pin 1&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Pin 2&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Pin 3&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Pin 4&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
   <span class="k">for</span> <span class="n">readPin</span> <span class="ow">in</span> <span class="n">readPins</span><span class="p">:</span>
       <span class="n">pinValue</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">IO_NetworkID</span><span class="p">,</span> <span class="n">readPins</span><span class="p">[</span><span class="n">readPin</span><span class="p">])</span>
       <span class="nb">print</span><span class="p">(</span><span class="n">readPin</span> <span class="o">+</span> <span class="s2">&quot; on &quot;</span> <span class="o">+</span> <span class="n">IO_Name</span> <span class="o">+</span> <span class="s2">&quot; has value &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pinValue</span><span class="p">))</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">The pin labels on the digital IO module (pin 1, pin 2, pin 3, pin 4) correspond in software to (0, 1, 2, 3). Therefore, digitalRead(deviceNetworkId, 2)  will read the value on input pin 3.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=digitalWrite  style="cursor:pointer;" data-toggle="collapse" href= "#digitalWriteshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>digitalWrite</b> </span>
                        (<span class="func funcParamHeading">
                                deviceNetworkId,pin,value
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#digitalWriteshowDescription" id="digitalWriteshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Sets voltage on specified pin of digital IO output pin to either logic HIGH (24V) or LOW (0V).
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>deviceNetworkId</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        The IO Modules device network ID. It can be found printed on the product sticker on the back of the digital IO module.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>pin</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        The output pin number to write to.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>value</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        Writing '1' or HIGH will set digial output to 24V, writing 0 will set digital output to 0V.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#digitalWritecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#digitalWritecollapseParent" id="digitalWritecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">digitalWrite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deviceNetworkId</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="p">:</span>

        <span class="k">if</span> <span class="p">(</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isIoExpanderOutputIdValid</span><span class="p">(</span> <span class="n">deviceNetworkId</span><span class="p">,</span> <span class="n">pin</span> <span class="p">)</span> <span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;DEBUG: unexpected digitalOutput parameters: device= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">deviceNetworkId</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; pin= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pin</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myMqttClient</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="s1">&#39;devices/io-expander/&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">deviceNetworkId</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;/digital-output/&#39;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">pin</span><span class="p">),</span> <span class="s1">&#39;1&#39;</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="n">retain</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#digitalWritev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="digitalWritev1_collapseExample">
            <button type="button" data-parent ="#digitalWritecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('digitalWriteexampleCode', 'digitalWrite')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "digitalWritev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># Toggles the output pins on all connected IO Modules</span>
<span class="n">detectedIOModules</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">detectIOModules</span><span class="p">()</span>
<span class="k">for</span> <span class="n">IO_Name</span><span class="p">,</span> <span class="n">IO_NetworkID</span> <span class="ow">in</span> <span class="n">detectedIOModules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">writePins</span> <span class="o">=</span><span class="p">{</span><span class="s2">&quot;Pin 1&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Pin 2&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Pin 3&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Pin 4&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">writePin</span> <span class="ow">in</span> <span class="n">writePins</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">writePin</span> <span class="o">+</span> <span class="s2">&quot; on &quot;</span> <span class="o">+</span> <span class="n">IO_Name</span> <span class="o">+</span> <span class="s2">&quot; is going to flash twice&quot;</span><span class="p">)</span>

        <span class="n">mm</span><span class="o">.</span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">IO_NetworkID</span><span class="p">,</span> <span class="n">writePins</span><span class="p">[</span><span class="n">writePin</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">mm</span><span class="o">.</span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">IO_NetworkID</span><span class="p">,</span> <span class="n">writePins</span><span class="p">[</span><span class="n">writePin</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">mm</span><span class="o">.</span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">IO_NetworkID</span><span class="p">,</span> <span class="n">writePins</span><span class="p">[</span><span class="n">writePin</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">mm</span><span class="o">.</span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">IO_NetworkID</span><span class="p">,</span> <span class="n">writePins</span><span class="p">[</span><span class="n">writePin</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">Output pins maximum sourcing current is 75 mA and the maximum sinking current is 100 mA. The pin labels on the digital IO module (pin 1, pin 2, pin 3, pin 4) correspond in software to (0, 1, 2, 3). Therefore, digitalWrite(deviceNetworkId, 2, 1)  will set output pin 3 to 24V.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitAbsoluteMove  style="cursor:pointer;" data-toggle="collapse" href= "#emitAbsoluteMoveshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitAbsoluteMove</b> </span>
                        (<span class="func funcParamHeading">
                                axis,position
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitAbsoluteMoveshowDescription" id="emitAbsoluteMoveshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Moves the specified axis to a desired end location.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axis</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The axis which will perform the absolute move command.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>position</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The desired end position of the axis movement.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitAbsoluteMovecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitAbsoluteMovecollapseParent" id="emitAbsoluteMovecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitAbsoluteMove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">position</span><span class="p">):</span>

        <span class="c1"># Set to absolute motion mode</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G90&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span>

            <span class="c1"># Transmit move command</span>
            <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G0 &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">position</span><span class="p">))</span>

            <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>

            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitAbsoluteMovev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitAbsoluteMovev1_collapseExample">
            <button type="button" data-parent ="#emitAbsoluteMovecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitAbsoluteMoveexampleCode', 'emitAbsoluteMove')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitAbsoluteMovev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span>                                       <span class="c1">#The axis that you&#39;d like to move</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">400</span>                                    <span class="c1">#The max speed you&#39;d like to move at</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>                             <span class="c1">#The constant acceleration and decceleration value for the move</span>
<span class="n">position</span> <span class="o">=</span> <span class="mi">100</span>                                 <span class="c1">#The absolute position you&#39;d like to move to</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span>    <span class="c1">#The mechanical gain of the actuator on the axis</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="c1"># Home Axis before absolute move</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is going home.&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; homed.&quot;</span><span class="p">)</span>

<span class="c1"># Configure movement speed, acceleration and then move</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAbsoluteMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">position</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is moving towards position &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">position</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is at position &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">position</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitAcceleration  style="cursor:pointer;" data-toggle="collapse" href= "#emitAccelerationshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitAcceleration</b> </span>
                        (<span class="func funcParamHeading">
                                mm_per_sec_sqr,units
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitAccelerationshowDescription" id="emitAccelerationshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Sets the global acceleration for all movement commands on all axes.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>mm_per_sec_sqr</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The global acceleration in mm/s^2.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>units</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Optional. Default = UNITS_ACCEL.mm_per_sec_sqr 
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        Units for speed. Can be switched to UNITS_ACCEL.mm_per_min_sqr
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitAccelerationcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitAccelerationcollapseParent" id="emitAccelerationcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitAcceleration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">acceleration</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="n">UNITS_ACCEL</span><span class="o">.</span><span class="n">mm_per_sec_sqr</span><span class="p">):</span>


        <span class="k">if</span> <span class="n">units</span> <span class="o">==</span> <span class="n">UNITS_ACCEL</span><span class="o">.</span><span class="n">mm_per_sec_sqr</span><span class="p">:</span>
            <span class="n">accel_mm_per_sec_sqr</span> <span class="o">=</span> <span class="n">acceleration</span>
        <span class="k">elif</span> <span class="n">units</span> <span class="o">==</span> <span class="n">UNITS_ACCEL</span><span class="o">.</span><span class="n">mm_per_min_sqr</span><span class="p">:</span>
            <span class="n">accel_mm_per_sec_sqr</span> <span class="o">=</span> <span class="n">acceleration</span><span class="o">/</span><span class="mi">3600</span>

        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;M204 T&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">accel_mm_per_sec_sqr</span><span class="p">))</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitAccelerationv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitAccelerationv1_collapseExample">
            <button type="button" data-parent ="#emitAccelerationcollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitAccelerationexampleCode', 'emitAcceleration')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitAccelerationv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>      <span class="c1"># The acceleration [mm/s^2] that all subsequent moves will move at</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Global acceleration set to &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">acceleration</span><span class="p">))</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitCombinedAxesAbsoluteMove  style="cursor:pointer;" data-toggle="collapse" href= "#emitCombinedAxesAbsoluteMoveshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitCombinedAxesAbsoluteMove</b> </span>
                        (<span class="func funcParamHeading">
                                axes,positions
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitCombinedAxesAbsoluteMoveshowDescription" id="emitCombinedAxesAbsoluteMoveshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Moves multiple specified axes to their desired end locations synchronously.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axes</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>List</code></span>
                    -
                    <span class = "funcText">          
                        The axes which will perform the move commands. Ex - [1 ,3]
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>positions</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>List</code></span>
                    -
                    <span class = "funcText">          
                        The desired end position of all axess movement. Ex - [50, 10]
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitCombinedAxesAbsoluteMovecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitCombinedAxesAbsoluteMovecollapseParent" id="emitCombinedAxesAbsoluteMovecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitCombinedAxesAbsoluteMove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">,</span> <span class="n">positions</span><span class="p">):</span>

        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">positions</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Axes and Postions must be lists&quot;</span><span class="p">)</span>


        <span class="c1"># Set to absolute motion mode</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G90&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span>
            <span class="c1"># Transmit move command</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;G0 &quot;</span>
            <span class="k">for</span> <span class="n">axis</span><span class="p">,</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">positions</span><span class="p">):</span>
                <span class="n">command</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">position</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>

            <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitCombinedAxesAbsoluteMovev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitCombinedAxesAbsoluteMovev1_collapseExample">
            <button type="button" data-parent ="#emitCombinedAxesAbsoluteMovecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitCombinedAxesAbsoluteMoveexampleCode', 'emitCombinedAxesAbsoluteMove')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitCombinedAxesAbsoluteMovev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>


<span class="c1">#Declare parameters for combined absolute move</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">axesToMove</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">positions</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span><span class="mi">50</span><span class="p">]</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="n">axesToMove</span><span class="p">:</span>
    <span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All Axes Moving Home Sequentially&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHomeAll</span><span class="p">()</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All Axes homed.&quot;</span><span class="p">)</span>

<span class="c1"># Simultaneously moves three axis:</span>
<span class="c1">#   Moves axis 1 to absolute position 50</span>
<span class="c1">#   Moves axis 2 to absolute position 100</span>
<span class="c1">#   Moves axis 3 to absolute position 50</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitCombinedAxesAbsoluteMove</span><span class="p">(</span><span class="n">axesToMove</span><span class="p">,</span> <span class="n">positions</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">axis</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">axesToMove</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moved to position &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">positions</span><span class="p">[</span><span class="n">index</span><span class="p">]))</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">The current speed and acceleration settings are applied to the combined motion of the axes.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitCombinedAxisRelativeMove  style="cursor:pointer;" data-toggle="collapse" href= "#emitCombinedAxisRelativeMoveshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitCombinedAxisRelativeMove</b> </span>
                        (<span class="func funcParamHeading">
                                axes,directions,distances
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitCombinedAxisRelativeMoveshowDescription" id="emitCombinedAxisRelativeMoveshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Moves the multiple specified axes the specified distances in the specified directions.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axes</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>List of Integers</code></span>
                    -
                    <span class = "funcText">          
                        The axes to move. Ex-[1,3]
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>directions</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>List of Strings</code></span>
                    -
                    <span class = "funcText">          
                        The direction of travel of each specified axis. Ex - ["positive", "negative"]
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>distances</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>List of Numbers</code></span>
                    -
                    <span class = "funcText">          
                        The travel distances in mm. Ex - [10, 40]
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitCombinedAxisRelativeMovecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitCombinedAxisRelativeMovecollapseParent" id="emitCombinedAxisRelativeMovecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitCombinedAxisRelativeMove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axes</span><span class="p">,</span> <span class="n">directions</span><span class="p">,</span> <span class="n">distances</span><span class="p">):</span>

        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">directions</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">distances</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Axes, Postions and Distances must be lists&quot;</span><span class="p">)</span>

        <span class="c1"># Set to relative motion mode</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G91&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span>
            <span class="c1"># Transmit move command</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;G0 &quot;</span>
            <span class="k">for</span> <span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">distance</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">directions</span><span class="p">,</span> <span class="n">distances</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">DIRECTION</span><span class="o">.</span><span class="n">POSITIVE</span> <span class="p">:</span>
                    <span class="n">distance</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">direction</span>  <span class="o">==</span> <span class="n">DIRECTION</span><span class="o">.</span><span class="n">NEGATIVE</span> <span class="p">:</span>
                    <span class="n">distance</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
                <span class="n">command</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>

            <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitCombinedAxisRelativeMovev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitCombinedAxisRelativeMovev1_collapseExample">
            <button type="button" data-parent ="#emitCombinedAxisRelativeMovecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitCombinedAxisRelativeMoveexampleCode', 'emitCombinedAxisRelativeMove')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitCombinedAxisRelativeMovev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1">#declare parameters for combine move</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">axesToMove</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="n">distances</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
<span class="n">directions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;positive&quot;</span><span class="p">,</span><span class="s2">&quot;positive&quot;</span><span class="p">,</span><span class="s2">&quot;positive&quot;</span><span class="p">]</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="k">for</span> <span class="n">axis</span> <span class="ow">in</span> <span class="n">axesToMove</span><span class="p">:</span>
    <span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHomeAll</span><span class="p">()</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All Axes homed.&quot;</span><span class="p">)</span>

<span class="c1"># Simultaneously moves three axis:</span>
<span class="c1">#   Move axis 1 in the positive direction by 50 mm</span>
<span class="c1">#   Move axis 2 in the negative direction by 100 mm</span>
<span class="c1">#   Move axis 3 in the positive direction by 50 mm</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitCombinedAxisRelativeMove</span><span class="p">(</span><span class="n">axesToMove</span><span class="p">,</span> <span class="n">directions</span><span class="p">,</span> <span class="n">distances</span><span class="p">)</span>


<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">axis</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">axesToMove</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moved &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distances</span><span class="p">[</span><span class="n">index</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; in the &quot;</span> <span class="o">+</span> <span class="n">directions</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; direction.&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">The current speed and acceleration settings are applied to the combined motion of the axes.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitDwell  style="cursor:pointer;" data-toggle="collapse" href= "#emitDwellshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitDwell</b> </span>
                        (<span class="func funcParamHeading">
                                miliseconds
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitDwellshowDescription" id="emitDwellshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Pauses motion for a specified time. This function is non-blocking; your program may accomplish other tasks while the machine is dwelling.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>miliseconds</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        The duration to wait in milliseconds.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitDwellcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitDwellcollapseParent" id="emitDwellcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitDwell</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">milliseconds</span><span class="p">)</span> <span class="p">:</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G4 P&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">milliseconds</span><span class="p">))</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitDwellv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitDwellv1_collapseExample">
            <button type="button" data-parent ="#emitDwellcollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitDwellexampleCode', 'emitDwell')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitDwellv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1">#Declare parameters for g-Code command</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">axis</span> <span class="o">=</span> <span class="n">AXIS_NUMBER</span><span class="o">.</span><span class="n">DRIVE1</span>

<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span><span class="p">)</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">AXIS_NUMBER</span><span class="o">.</span><span class="n">DRIVE1</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>
<span class="c1"># Moves axis back and forth, waiting a specified amount of time between each move</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAbsoluteMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitDwell</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAbsoluteMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitDwell</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAbsoluteMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitDwell</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAbsoluteMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitDwell</span><span class="p">(</span><span class="mi">5000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;emitDwell does not block this line from printing&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;but waitForMotionCompletion() will force python to wait the full 5000ms until emitDwell has finished.&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">The timer starts after all previous MachineMotion movement commands have finished execution.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitHome  style="cursor:pointer;" data-toggle="collapse" href= "#emitHomeshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitHome</b> </span>
                        (<span class="func funcParamHeading">
                                axis
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitHomeshowDescription" id="emitHomeshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Initiates the homing sequence for the specified axis.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axis</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The axis to be homed.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitHomecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitHomecollapseParent" id="emitHomecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitHome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>

        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G28 &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">))</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitHomev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitHomev1_collapseExample">
            <button type="button" data-parent ="#emitHomecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitHomeexampleCode', 'emitHome')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitHomev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">axis</span> <span class="o">=</span> <span class="n">AXIS_NUMBER</span><span class="o">.</span><span class="n">DRIVE1</span>

<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Application Message: Axis &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span><span class="s2">&quot; is going home&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Application Message: Axis &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span><span class="s2">&quot; is at home&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">If configAxisDirection is set to "normal" on axis 1, axis 1 will home itself towards sensor 1A. If configAxisDirection is set to "reverse" on axis 1, axis 1 will home itself towards sensor 1B.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitHomeAll  style="cursor:pointer;" data-toggle="collapse" href= "#emitHomeAllshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitHomeAll</b> </span>
                    ( )
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitHomeAllshowDescription" id="emitHomeAllshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Initiates the homing sequence of all axes. All axes will home sequentially (Axis 1, then Axis 2, then Axis 3).
            </div>
        </dd>



        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitHomeAllcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitHomeAllcollapseParent" id="emitHomeAllcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitHomeAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G28&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitHomeAllv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitHomeAllv1_collapseExample">
            <button type="button" data-parent ="#emitHomeAllcollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitHomeAllexampleCode', 'emitHomeAll')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitHomeAllv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="c1"># Home All Axes Sequentially</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHomeAll</span><span class="p">()</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;All Axes Moving Home&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All Axes Homed&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitRelativeMove  style="cursor:pointer;" data-toggle="collapse" href= "#emitRelativeMoveshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitRelativeMove</b> </span>
                        (<span class="func funcParamHeading">
                                axis,direction,distance
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitRelativeMoveshowDescription" id="emitRelativeMoveshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Moves the specified axis the specified distance in the specified direction.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axis</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        The axis to move.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>direction</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        The direction of travel. Ex - "positive" or "negative"
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>distance</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The travel distance in mm.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitRelativeMovecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitRelativeMovecollapseParent" id="emitRelativeMovecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitRelativeMove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">distance</span><span class="p">):</span>


        <span class="c1"># Set to relative motion mode</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G91&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span>

            <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">DIRECTION</span><span class="o">.</span><span class="n">POSITIVE</span> <span class="p">:</span>
                <span class="n">distance</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">direction</span>  <span class="o">==</span> <span class="n">DIRECTION</span><span class="o">.</span><span class="n">NEGATIVE</span> <span class="p">:</span>
                <span class="n">distance</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>

            <span class="c1"># Transmit move command</span>
            <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G0 &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">))</span>

            <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitRelativeMovev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitRelativeMovev1_collapseExample">
            <button type="button" data-parent ="#emitRelativeMovecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitRelativeMoveexampleCode', 'emitRelativeMove')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitRelativeMovev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="c1">#Define Relative Move Parameters</span>
<span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">distance</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;positive&quot;</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">rack_pinion_mm_turn</span>

<span class="c1">#Load Relative Move Parameters</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="c1">#Home Axis Before Move</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moving home.&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; homed&quot;</span><span class="p">)</span>

<span class="c1">#Begin Relative Move</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitRelativeMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moved &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm in the &quot;</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">+</span> <span class="s2">&quot; direction&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitSpeed  style="cursor:pointer;" data-toggle="collapse" href= "#emitSpeedshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitSpeed</b> </span>
                        (<span class="func funcParamHeading">
                                speed,units
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitSpeedshowDescription" id="emitSpeedshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Sets the global speed for all movement commands on all axes.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>speed</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The global max speed in mm/sec, or mm/min according to the units parameter.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>units</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Optional. Default = UNITS_SPEED.mm_per_sec 
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        Units for speed. Can be switched to UNITS_SPEED.mm_per_min
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitSpeedcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitSpeedcollapseParent" id="emitSpeedcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitSpeed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_sec</span><span class="p">):</span>


        <span class="k">if</span> <span class="n">units</span> <span class="o">==</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_min</span><span class="p">:</span>
            <span class="n">speed_mm_per_min</span> <span class="o">=</span> <span class="n">speed</span>
        <span class="k">elif</span> <span class="n">units</span> <span class="o">==</span> <span class="n">UNITS_SPEED</span><span class="o">.</span><span class="n">mm_per_sec</span><span class="p">:</span>
            <span class="n">speed_mm_per_min</span> <span class="o">=</span> <span class="mi">60</span><span class="o">*</span><span class="n">speed</span>

        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G0 F&quot;</span> <span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">speed_mm_per_min</span><span class="p">))</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitSpeedv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitSpeedv1_collapseExample">
            <button type="button" data-parent ="#emitSpeedcollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitSpeedexampleCode', 'emitSpeed')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitSpeedv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="n">speed</span> <span class="o">=</span> <span class="mi">500</span>      <span class="c1"># The speed [mm/s] that all subsequent moves will move at</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Global acceleration set to &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">speed</span><span class="p">))</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitStop  style="cursor:pointer;" data-toggle="collapse" href= "#emitStopshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitStop</b> </span>
                    ( )
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitStopshowDescription" id="emitStopshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Immediately stops all motion of all axes.
            </div>
        </dd>



        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitStopcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitStopcollapseParent" id="emitStopcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitStop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;M410&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="c1"># Wait to insure that other commands after the emit stop are not flushed.</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.800</span><span class="p">)</span> <span class="c1"># 300 ms is the minimum allowable command</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitStopv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitStopv1_collapseExample">
            <button type="button" data-parent ="#emitStopcollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitStopexampleCode', 'emitStop')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitStopv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="c1">#Define Relative Move Parameters</span>
<span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">distance</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;positive&quot;</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">rack_pinion_mm_turn</span>

<span class="c1">#Load Relative Move Parameters</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="c1">#Home Axis Before Move</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is going home&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; homed&quot;</span><span class="p">)</span>

<span class="c1">#Begin Relative Move</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitRelativeMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is moving &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm in the &quot;</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">+</span> <span class="s2">&quot; direction&quot;</span><span class="p">)</span>

<span class="c1">#This move should take 5 (distance/speed) seconds to complete. Instead, we wait 2 seconds and then stop the machine.</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitStop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; stopped.&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">This function is a hard stop. It is not a controlled stop and consequently does not decelerate smoothly to a stop. Additionally, this function is not intended to serve as an emergency stop since this stop mechanism does not have safety ratings.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=emitgCode  style="cursor:pointer;" data-toggle="collapse" href= "#emitgCodeshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>emitgCode</b> </span>
                        (<span class="func funcParamHeading">
                                gCode
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#emitgCodeshowDescription" id="emitgCodeshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Executes raw gCode on the controller.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>gCode</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>string</code></span>
                    -
                    <span class = "funcText">          
                        The g-code that will be passed directly to the controller.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitgCodecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#emitgCodecollapseParent" id="emitgCodecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">emitgCode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gCode</span><span class="p">):</span>

        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="n">gCode</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution (reply: </span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">reply</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#emitgCodev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="emitgCodev1_collapseExample">
            <button type="button" data-parent ="#emitgCodecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('emitgCodeexampleCode', 'emitgCode')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "emitgCodev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1">#Declare parameters for g-Code command</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHomeAll</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All Axes homed.&quot;</span><span class="p">)</span>

<span class="c1"># Use the G0 command to move both axis 1 and 2 by 50mm</span>
<span class="n">gCodeCommand</span> <span class="o">=</span> <span class="s2">&quot;G0 X50 Y50&quot;</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitgCode</span><span class="p">(</span><span class="n">gCodeCommand</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;G-code command &#39;&quot;</span> <span class="o">+</span> <span class="n">gCodeCommand</span> <span class="o">+</span> <span class="s2">&quot;&#39; completed by MachineMotion.&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">All movement commands sent to the controller are by default in mm.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=getBrakeState  style="cursor:pointer;" data-toggle="collapse" href= "#getBrakeStateshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>getBrakeState</b> </span>
                        (<span class="func funcParamHeading">
                                aux_port_number,safety_adapter_presence
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#getBrakeStateshowDescription" id="getBrakeStateshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Read the current state of the brake connected to a given AUX port of the MachineMotion.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>aux_port_number</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        The number of the AUX port the brake is connected to.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>safety_adapter_presence</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Boolean</code></span>
                    -
                    <span class = "funcText">          
                        Is a yellow safety adapter plugged in between the brake cable and the AUX port.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            The current state of the brake, as determined according to the current voltage of the AUX port (0V or 24V). The returned String can be "locked", "unlocked", or "unknown" (for MachineMotions prior to the V1F hardware version), as defined by the BRAKE_STATES class.
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#getBrakeStatecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#getBrakeStatecollapseParent" id="getBrakeStatecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">getBrakeState</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="p">:</span>

        <span class="k">if</span> <span class="p">(</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isIoExpanderIdValid</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">)</span> <span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;DEBUG: unexpected getBrakeStatus parameters: aux_port_number= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;unexpected getBrakeStatus parameters: aux_port_number= &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">))</span>
            <span class="k">return</span>

        <span class="n">voltage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">brakeStatus_safety</span><span class="p">[</span><span class="n">aux_port_number</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">safety_adapter_presence</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">brakeStatus_control</span><span class="p">[</span><span class="n">aux_port_number</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">voltage</span> <span class="o">==</span> <span class="s1">&#39;0V&#39;</span>      <span class="p">:</span> <span class="k">return</span> <span class="n">BRAKE_STATES</span><span class="o">.</span><span class="n">locked</span>
        <span class="k">elif</span> <span class="n">voltage</span> <span class="o">==</span> <span class="s1">&#39;24V&#39;</span>   <span class="p">:</span> <span class="k">return</span> <span class="n">BRAKE_STATES</span><span class="o">.</span><span class="n">unlocked</span>
        <span class="k">else</span>                    <span class="p">:</span> <span class="k">return</span> <span class="n">BRAKE_STATES</span><span class="o">.</span><span class="n">unknown</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#getBrakeStatev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="getBrakeStatev1_collapseExample">
            <button type="button" data-parent ="#getBrakeStatecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('getBrakeStateexampleCode', 'getBrakeState')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "getBrakeStatev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1"># When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="c1"># Define the brake parameters</span>
<span class="n">brake_aux_port_number</span> <span class="o">=</span> <span class="mi">1</span>        <span class="c1"># The AUX port number the brake is plugged in</span>
<span class="n">safety_adapter_presence</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Is a yellow safety adapter plugged in between the brake cable and the AUX port</span>

<span class="c1"># Define Axis Parameters</span>
<span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span>                         <span class="c1"># Drive number</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">rack_pinion_mm_turn</span>

<span class="c1"># Configure the axis</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="c1"># Read brake state</span>
<span class="n">brake_state</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getBrakeState</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;The brake connected to AUX&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is : &quot;</span> <span class="o">+</span> <span class="n">brake_state</span><span class="p">)</span>

<span class="c1"># Lock the brake</span>
<span class="n">mm</span><span class="o">.</span><span class="n">lockBrake</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">);</span>                <span class="c1"># Wait before reading brake state, for it to get correctly updated</span>

<span class="c1"># Read brake state</span>
<span class="n">brake_state</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getBrakeState</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;The brake connected to AUX&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is : &quot;</span> <span class="o">+</span> <span class="n">brake_state</span><span class="p">)</span>

<span class="c1"># DO NOT MOVE WHILE BRAKE IS ENGAGED</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Waiting two seconds. Do not move the actuator while the brake is locked !&quot;</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                   <span class="c1"># Unlock the brake after two seconds</span>

<span class="c1"># Release the brakes</span>
<span class="n">mm</span><span class="o">.</span><span class="n">unlockBrake</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">);</span>                <span class="c1"># Wait before reading brake state, for it to get correctly updated</span>

<span class="c1"># Read brake state</span>
<span class="n">brake_state</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getBrakeState</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;The brake connected to AUX&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is : &quot;</span> <span class="o">+</span> <span class="n">brake_state</span><span class="p">)</span>

<span class="c1"># Home Axis Before Move</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moving home.&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; homed&quot;</span><span class="p">)</span>

<span class="c1"># Move Relative</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">400</span>                      <span class="c1"># Speed in mm/sec</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>               <span class="c1"># Acceleration in mm/sec^2</span>
<span class="n">distance</span> <span class="o">=</span> <span class="mi">100</span>                   <span class="c1"># Distance in mm</span>
<span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;positive&quot;</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitRelativeMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moved &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm in the &quot;</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">+</span> <span class="s2">&quot; direction&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">This function is compatible only with V1F and more recent MachineMotions.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=getCurrentPositions  style="cursor:pointer;" data-toggle="collapse" href= "#getCurrentPositionsshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>getCurrentPositions</b> </span>
                    ( )
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#getCurrentPositionsshowDescription" id="getCurrentPositionsshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Returns the current position of each axis.
            </div>
        </dd>



        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            A dictionary containing the current position of each axis.
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#getCurrentPositionscollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#getCurrentPositionscollapseParent" id="getCurrentPositionscollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">getCurrentPositions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">positions</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span> <span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="mi">2</span> <span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="mi">3</span> <span class="p">:</span> <span class="kc">None</span>
        <span class="p">}</span>

        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;M114&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span>

            <span class="n">positions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">reply</span><span class="p">[</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">:(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)])</span>
            <span class="n">positions</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">reply</span><span class="p">[</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">:(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;Z&#39;</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)])</span>
            <span class="n">positions</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">reply</span><span class="p">[</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;Z&#39;</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">:(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)])</span>

        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">positions</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#getCurrentPositionsv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="getCurrentPositionsv1_collapseExample">
            <button type="button" data-parent ="#getCurrentPositionscollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('getCurrentPositionsexampleCode', 'getCurrentPositions')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "getCurrentPositionsv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="c1">#Define Move Parameters</span>
<span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;positive&quot;</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">roller_conveyor_mm_turn</span>

<span class="c1">#Load Relative Move Parameters</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="c1">#Home Axis Before Move</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moving home.&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; homed&quot;</span><span class="p">)</span>

<span class="c1">#Move 50mm and check position</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitRelativeMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">getCurrentPositions</span><span class="p">()</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>

<span class="c1">#Move 100mm and check position</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitRelativeMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">getCurrentPositions</span><span class="p">()</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitHomeAll</span><span class="p">()</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;End of example&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">This function returns the 'open loop' position of each axis. If your axis has an encoder, please use readEncoder.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=getData  style="cursor:pointer;" data-toggle="collapse" href= "#getDatashowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>getData</b> </span>
                        (<span class="func funcParamHeading">
                                key,callback
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#getDatashowDescription" id="getDatashowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Retreives saved/persisted data from the MachineMotion controller (in key-data pairs). If the controller takes more than 3 seconds to return data, the function will return with a value of "Error - getData took too long" under the given key.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>key</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        A Unique identifier representing the data to be retreived
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>callback</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>function</code></span>
                    -
                    <span class = "funcText">          
                        Function to callback to process data.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            A dictionary containing the saved data.
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#getDatacollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#getDatacollapseParent" id="getDatacollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">getData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
        <span class="n">callback</span><span class="p">(</span><span class="n">HTTPSend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">IP</span> <span class="o">+</span> <span class="s2">&quot;:8000&quot;</span><span class="p">,</span> <span class="s2">&quot;/getData&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">))</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#getDatav1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="getDatav1_collapseExample">
            <button type="button" data-parent ="#getDatacollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('getDataexampleCode', 'getData')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "getDatav1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Initialize the key-value pair to save on the controller</span>
<span class="n">dataKey</span> <span class="o">=</span> <span class="s2">&quot;example_key&quot;</span>
<span class="n">dataContent</span> <span class="o">=</span> <span class="s2">&quot;save_this_string_on_the_controller&quot;</span>

<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data: &#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39; retrieved from controller using key &#39;&quot;</span> <span class="o">+</span> <span class="n">dataKey</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>

	<span class="k">return</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="c1"># Saving a string on the controller</span>
<span class="n">mm</span><span class="o">.</span><span class="n">saveData</span><span class="p">(</span><span class="n">dataKey</span><span class="p">,</span> <span class="n">dataContent</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data: &#39;&quot;</span> <span class="o">+</span> <span class="n">dataContent</span> <span class="o">+</span> <span class="s2">&quot;&#39; saved on controller under key &#39;&quot;</span> <span class="o">+</span> <span class="n">dataKey</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>

<span class="c1"># Retreiving data from the controller</span>
<span class="n">retrievedData</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getData</span><span class="p">(</span><span class="n">dataKey</span><span class="p">,</span> <span class="n">templateCallback</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=getEndStopState  style="cursor:pointer;" data-toggle="collapse" href= "#getEndStopStateshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>getEndStopState</b> </span>
                    ( )
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#getEndStopStateshowDescription" id="getEndStopStateshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Returns the current state of all home and end sensors.
            </div>
        </dd>



        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            The states of all end stop sensors {x_min, x_max, y_min, y_max, z_min, z_max} TRIGGERED or not
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#getEndStopStatecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#getEndStopStatecollapseParent" id="getEndStopStatecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">getEndStopState</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">states</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;x_min&#39;</span> <span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;x_max&#39;</span> <span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;y_min&#39;</span> <span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;y_max&#39;</span> <span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;z_min&#39;</span> <span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s1">&#39;z_max&#39;</span> <span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">def</span> <span class="nf">trimUntil</span><span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">return</span> <span class="n">S</span><span class="p">[</span><span class="n">S</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="p">:]</span>

        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;M119&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span>
            <span class="c1">#Remove first line (echo line)</span>
            <span class="n">reply</span> <span class="o">=</span> <span class="n">trimUntil</span><span class="p">(</span><span class="n">reply</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;x_min&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">:</span>
                <span class="n">keyB</span> <span class="o">=</span> <span class="s2">&quot;x_min: &quot;</span>
                <span class="n">keyE</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">states</span><span class="p">[</span><span class="s1">&#39;x_min&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reply</span><span class="p">[(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyB</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">keyB</span><span class="p">))</span> <span class="p">:</span> <span class="p">(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyE</span><span class="p">))]</span>

                <span class="c1">#Remove x_min line</span>
                <span class="n">reply</span> <span class="o">=</span> <span class="n">trimUntil</span><span class="p">(</span><span class="n">reply</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;x_max&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">:</span>
                <span class="n">keyB</span> <span class="o">=</span> <span class="s2">&quot;x_max: &quot;</span>
                <span class="n">keyE</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">states</span><span class="p">[</span><span class="s1">&#39;x_max&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reply</span><span class="p">[(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyB</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">keyB</span><span class="p">))</span> <span class="p">:</span> <span class="p">(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyE</span><span class="p">))]</span>

                <span class="c1">#Remove x_max line</span>
                <span class="n">reply</span> <span class="o">=</span> <span class="n">trimUntil</span><span class="p">(</span><span class="n">reply</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;y_min&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">:</span>
                <span class="n">keyB</span> <span class="o">=</span> <span class="s2">&quot;y_min: &quot;</span>
                <span class="n">keyE</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">states</span><span class="p">[</span><span class="s1">&#39;y_min&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reply</span><span class="p">[(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyB</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">keyB</span><span class="p">))</span> <span class="p">:</span> <span class="p">(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyE</span><span class="p">))]</span>

                <span class="c1">#Remove y_min line</span>
                <span class="n">reply</span> <span class="o">=</span> <span class="n">trimUntil</span><span class="p">(</span><span class="n">reply</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;y_max&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">:</span>
                <span class="n">keyB</span> <span class="o">=</span> <span class="s2">&quot;y_max: &quot;</span>
                <span class="n">keyE</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">states</span><span class="p">[</span><span class="s1">&#39;y_max&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reply</span><span class="p">[(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyB</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">keyB</span><span class="p">))</span> <span class="p">:</span> <span class="p">(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyE</span><span class="p">))]</span>

                <span class="c1">#Remove y_max line</span>
                <span class="n">reply</span> <span class="o">=</span> <span class="n">trimUntil</span><span class="p">(</span><span class="n">reply</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;z_min&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">:</span>
                <span class="n">keyB</span> <span class="o">=</span> <span class="s2">&quot;z_min: &quot;</span>
                <span class="n">keyE</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">states</span><span class="p">[</span><span class="s1">&#39;z_min&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reply</span><span class="p">[(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyB</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">keyB</span><span class="p">))</span> <span class="p">:</span> <span class="p">(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyE</span><span class="p">))]</span>

                <span class="c1">#Remove z_min line</span>
                <span class="n">reply</span> <span class="o">=</span> <span class="n">trimUntil</span><span class="p">(</span><span class="n">reply</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="s2">&quot;z_max&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">:</span>
                <span class="n">keyB</span> <span class="o">=</span> <span class="s2">&quot;z_max: &quot;</span>
                <span class="n">keyE</span> <span class="o">=</span> <span class="s2">&quot; </span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">states</span><span class="p">[</span><span class="s1">&#39;z_max&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reply</span><span class="p">[(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyB</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">keyB</span><span class="p">))</span> <span class="p">:</span> <span class="p">(</span><span class="n">reply</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">keyE</span><span class="p">))]</span>

                <span class="c1">#Remove z_max line</span>
                <span class="n">reply</span> <span class="o">=</span> <span class="n">trimUntil</span><span class="p">(</span><span class="n">reply</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode&#39;</span><span class="p">)</span>

        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">states</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#getEndStopStatev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="getEndStopStatev1_collapseExample">
            <button type="button" data-parent ="#getEndStopStatecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('getEndStopStateexampleCode', 'getEndStopState')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "getEndStopStatev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>



<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="c1">#Define Move Parameters</span>
<span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">direction</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;positive&quot;</span><span class="p">,</span> <span class="s2">&quot;positive&quot;</span><span class="p">,</span> <span class="s2">&quot;positive&quot;</span><span class="p">]</span>
<span class="n">Position500mm</span> <span class="o">=</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">]</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">timing_belt_150mm_turn</span>

<span class="c1">#Load Relative Move Parameters</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">axes</span><span class="p">:</span>
    <span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="c1"># Home Axis Before Move</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moving home.&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHomeAll</span><span class="p">()</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; homed&quot;</span><span class="p">)</span>

<span class="c1"># Get End Stop State (Homed)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">getEndStopState</span><span class="p">()</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>

<span class="c1"># Move 150mm</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitCombinedAxisRelativeMove</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">Position500mm</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>

<span class="c1"># Get End Stop State (not Home)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">getEndStopState</span><span class="p">()</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitHomeAll</span><span class="p">()</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;End of example&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=isMotionCompleted  style="cursor:pointer;" data-toggle="collapse" href= "#isMotionCompletedshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>isMotionCompleted</b> </span>
                    ( )
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#isMotionCompletedshowDescription" id="isMotionCompletedshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Indicates if the last move command has completed.
            </div>
        </dd>



        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            Returns false if the machine is currently executing a movement command.
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#isMotionCompletedcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#isMotionCompletedcollapseParent" id="isMotionCompletedcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">isMotionCompleted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1">#Sending gCode V0 command to</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;V0&quot;</span><span class="p">)</span>

        <span class="c1">#Check if not error message</span>
        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;COMPLETED&quot;</span> <span class="ow">in</span> <span class="n">reply</span><span class="p">)</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
            <span class="k">else</span> <span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>



 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=lockBrake  style="cursor:pointer;" data-toggle="collapse" href= "#lockBrakeshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>lockBrake</b> </span>
                        (<span class="func funcParamHeading">
                                aux_port_number,safety_adapter_presence
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#lockBrakeshowDescription" id="lockBrakeshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Lock the brake, by shutting off the power of the designated AUX port of the MachineMotion (0V).
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>aux_port_number</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        The number of the AUX port the brake is connected to.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>safety_adapter_presence</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Boolean</code></span>
                    -
                    <span class = "funcText">          
                        Is a yellow safety adapter plugged in between the brake cable and the AUX port.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#lockBrakecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#lockBrakecollapseParent" id="lockBrakecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">lockBrake</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="p">:</span>

        <span class="k">if</span> <span class="p">(</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isIoExpanderIdValid</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">)</span> <span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;DEBUG: unexpected lockBrake parameters: aux_port_number= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;unexpected lockBrake parameters: aux_port_number= &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="n">topic</span> <span class="o">=</span> <span class="n">MQTT</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">AUX_PORT_SAFETY</span> <span class="k">if</span> <span class="n">safety_adapter_presence</span> <span class="k">else</span> <span class="n">MQTT</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">AUX_PORT_POWER</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">myMqttClient</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">topic</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;/request&#39;</span><span class="p">,</span> <span class="s1">&#39;0V&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#lockBrakev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="lockBrakev1_collapseExample">
            <button type="button" data-parent ="#lockBrakecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('lockBrakeexampleCode', 'lockBrake')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "lockBrakev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1"># When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="c1"># Define the brake parameters</span>
<span class="n">brake_aux_port_number</span> <span class="o">=</span> <span class="mi">1</span>        <span class="c1"># The AUX port number the brake is plugged in</span>
<span class="n">safety_adapter_presence</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Is a yellow safety adapter plugged in between the brake cable and the AUX port</span>

<span class="c1"># Define Axis Parameters</span>
<span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span>                         <span class="c1"># Drive number</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">rack_pinion_mm_turn</span>

<span class="c1"># Configure the axis</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="c1"># Read brake state</span>
<span class="n">brake_state</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getBrakeState</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;The brake connected to AUX&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is : &quot;</span> <span class="o">+</span> <span class="n">brake_state</span><span class="p">)</span>

<span class="c1"># Lock the brake</span>
<span class="n">mm</span><span class="o">.</span><span class="n">lockBrake</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">);</span>                <span class="c1"># Wait before reading brake state, for it to get correctly updated</span>

<span class="c1"># Read brake state</span>
<span class="n">brake_state</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getBrakeState</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;The brake connected to AUX&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is : &quot;</span> <span class="o">+</span> <span class="n">brake_state</span><span class="p">)</span>

<span class="c1"># DO NOT MOVE WHILE BRAKE IS ENGAGED</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Waiting two seconds. Do not move the actuator while the brake is locked !&quot;</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                   <span class="c1"># Unlock the brake after two seconds</span>

<span class="c1"># Release the brakes</span>
<span class="n">mm</span><span class="o">.</span><span class="n">unlockBrake</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">);</span>                <span class="c1"># Wait before reading brake state, for it to get correctly updated</span>

<span class="c1"># Read brake state</span>
<span class="n">brake_state</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getBrakeState</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;The brake connected to AUX&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is : &quot;</span> <span class="o">+</span> <span class="n">brake_state</span><span class="p">)</span>

<span class="c1"># Home Axis Before Move</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moving home.&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; homed&quot;</span><span class="p">)</span>

<span class="c1"># Move Relative</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">400</span>                      <span class="c1"># Speed in mm/sec</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>               <span class="c1"># Acceleration in mm/sec^2</span>
<span class="n">distance</span> <span class="o">=</span> <span class="mi">100</span>                   <span class="c1"># Distance in mm</span>
<span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;positive&quot;</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitRelativeMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moved &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm in the &quot;</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">+</span> <span class="s2">&quot; direction&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">This function is compatible only with V1F and more recent MachineMotions.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=readEncoder  style="cursor:pointer;" data-toggle="collapse" href= "#readEncodershowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>readEncoder</b> </span>
                        (<span class="func funcParamHeading">
                                encoder,readingType
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#readEncodershowDescription" id="readEncodershowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Returns the last received encoder position in counts.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>encoder</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        The identifier of the encoder to read
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>readingType</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        Either 'real time' or 'stable'. In 'real time' mode, readEncoder will return the most recently received encoder information. In 'stable' mode, readEncoder will update its return value only after the encoder output has stabilized around a specific value, such as when the axis has stopped motion.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            The current position of the encoder, in counts. The encoder has 3600 counts per revolution.
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#readEncodercollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#readEncodercollapseParent" id="readEncodercollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">readEncoder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoder</span><span class="p">,</span> <span class="n">readingType</span><span class="o">=</span><span class="n">ENCODER_TYPE</span><span class="o">.</span><span class="n">real_time</span><span class="p">)</span> <span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isEncoderIdValid</span><span class="p">(</span><span class="n">encoder</span><span class="p">)):</span>
            <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;DEBUG: unexpected encoder identifier: encoderId= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">encoder</span><span class="p">)</span> <span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">readingType</span> <span class="o">==</span> <span class="n">ENCODER_TYPE</span><span class="o">.</span><span class="n">real_time</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">myEncoderRealtimePositions</span><span class="p">[</span><span class="n">encoder</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">readingType</span> <span class="o">==</span> <span class="n">ENCODER_TYPE</span><span class="o">.</span><span class="n">stable</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">myEncoderStablePositions</span><span class="p">[</span><span class="n">encoder</span><span class="p">]</span> <span class="c1"># TODO : The stable mode does NOT seem implemented !</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#readEncoderv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="readEncoderv1_collapseExample">
            <button type="button" data-parent ="#readEncodercollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('readEncoderexampleCode', 'readEncoder')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "readEncoderv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="c1">#Adjust this line to match whichever AUX port the encoder is plugged into</span>
<span class="n">encoderPort</span> <span class="o">=</span> <span class="n">AUX_PORTS</span><span class="o">.</span><span class="n">aux_1</span>
<span class="n">encoderPortLabel</span> <span class="o">=</span> <span class="p">{</span><span class="n">AUX_PORTS</span><span class="o">.</span><span class="n">aux_1</span><span class="p">:</span> <span class="s2">&quot;AUX 1&quot;</span><span class="p">,</span> <span class="n">AUX_PORTS</span><span class="o">.</span><span class="n">aux_2</span><span class="p">:</span> <span class="s2">&quot;AUX 2&quot;</span><span class="p">,</span> <span class="n">AUX_PORTS</span><span class="o">.</span><span class="n">aux_3</span><span class="p">:</span> <span class="s2">&quot;AUX 3&quot;</span><span class="p">}</span>

<span class="n">checkInput</span> <span class="o">=</span> <span class="kc">True</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Reading and printing encoder output for 10 seconds:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">30</span><span class="p">):</span>
   <span class="n">realTimeOutput</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">readEncoder</span><span class="p">(</span><span class="n">encoderPort</span><span class="p">,</span> <span class="n">ENCODER_TYPE</span><span class="o">.</span><span class="n">real_time</span><span class="p">)</span>
   <span class="n">stableOutput</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">readEncoder</span><span class="p">(</span><span class="n">encoderPort</span><span class="p">,</span> <span class="n">ENCODER_TYPE</span><span class="o">.</span><span class="n">stable</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Encoder on port &quot;</span> <span class="o">+</span> <span class="n">encoderPortLabel</span><span class="p">[</span><span class="n">encoderPort</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2"> Realtime Position =&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">realTimeOutput</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; counts</span><span class="se">\t</span><span class="s2"> StablePosition = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">stableOutput</span><span class="p">))</span>
   <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="o">.</span><span class="mi">25</span><span class="p">)</span>

   <span class="k">if</span> <span class="n">realTimeOutput</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">checkInput</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">if</span><span class="p">(</span><span class="n">checkInput</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The encoder is not receiving any data. Please check the following: </span><span class="se">\n\t</span><span class="s2"> Is the encoder plugged into &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">encoderPortLabel</span><span class="p">[</span><span class="n">encoderPort</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;? </span><span class="se">\n\t</span><span class="s2"> Ensure the encoder rotates during program execution. (Readings are triggered only when the encoder moves)&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">The encoder position returned by this function may be delayed by up to 250 ms due to internal propogation delays.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=releaseEstop  style="cursor:pointer;" data-toggle="collapse" href= "#releaseEstopshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>releaseEstop</b> </span>
                    ( )
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#releaseEstopshowDescription" id="releaseEstopshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Releases the software E-stop and provides power back to the drives.
            </div>
        </dd>



        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#releaseEstopcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#releaseEstopcollapseParent" id="releaseEstopcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">releaseEstop</span> <span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
        <span class="c1"># Creating return value for the function. If nothing good happens, it will return False</span>
        <span class="n">return_value</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">def</span> <span class="nf">mqttResponse</span><span class="p">()</span> <span class="p">:</span>
            <span class="c1"># Wait for response</span>
            <span class="n">return_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">MQTTsubscribe</span><span class="o">.</span><span class="n">simple</span><span class="p">(</span><span class="n">MQTT</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">ESTOP_RELEASE_RESPONSE</span><span class="p">,</span> <span class="n">retained</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IP</span><span class="p">)</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>

            <span class="k">return</span>

        <span class="n">mqttResponseThread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span> <span class="o">=</span> <span class="n">mqttResponse</span><span class="p">)</span>
        <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="c1"># Adding a delay to make sure MQTT simple function is launched before publish is made. Quick fix from bug on App. Launcher.</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>

        <span class="c1"># Publish release request on MQTT</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">myMqttClient</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">MQTT</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">ESTOP_RELEASE_REQUEST</span><span class="p">,</span> <span class="s2">&quot;message is not important&quot;</span><span class="p">)</span>

        <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">MQTT</span><span class="o">.</span><span class="n">TIMEOUT</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">isAlive</span><span class="p">()</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;MQTT response timeout!&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="k">return</span> <span class="n">return_value</span>

        <span class="k">return</span> <span class="n">return_value</span>
</pre></div>

        </div>



 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=resetSystem  style="cursor:pointer;" data-toggle="collapse" href= "#resetSystemshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>resetSystem</b> </span>
                    ( )
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#resetSystemshowDescription" id="resetSystemshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Resets the system after an eStop event
            </div>
        </dd>



        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#resetSystemcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#resetSystemcollapseParent" id="resetSystemcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">resetSystem</span> <span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>

        <span class="c1"># Creating return value for the function. If nothing good happens, it will return False</span>
        <span class="n">return_value</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">def</span> <span class="nf">mqttResponse</span><span class="p">()</span> <span class="p">:</span>
            <span class="c1"># Wait for response</span>
            <span class="n">return_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">MQTTsubscribe</span><span class="o">.</span><span class="n">simple</span><span class="p">(</span><span class="n">MQTT</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">ESTOP_SYSTEMRESET_RESPONSE</span><span class="p">,</span> <span class="n">retained</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IP</span><span class="p">)</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>

            <span class="k">return</span>

        <span class="n">mqttResponseThread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span> <span class="o">=</span> <span class="n">mqttResponse</span><span class="p">)</span>
        <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="c1"># Adding a delay to make sure MQTT simple function is launched before publish is made. Quick fix from bug on App. Launcher.</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>

        <span class="c1"># Publish reset system request on MQTT</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">myMqttClient</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">MQTT</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">ESTOP_SYSTEMRESET_REQUEST</span><span class="p">,</span> <span class="s2">&quot;message is not important&quot;</span><span class="p">)</span>

        <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">MQTT</span><span class="o">.</span><span class="n">TIMEOUT</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">isAlive</span><span class="p">()</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;MQTT response timeout!&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="k">return</span> <span class="n">return_value</span>

        <span class="k">return</span> <span class="n">return_value</span>
</pre></div>

        </div>



 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=saveData  style="cursor:pointer;" data-toggle="collapse" href= "#saveDatashowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>saveData</b> </span>
                        (<span class="func funcParamHeading">
                                key,data
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#saveDatashowDescription" id="saveDatashowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Saves/persists data within the MachineMotion Controller in key - data pairs.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>key</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        A string that uniquely identifies the data to save for future retreival.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>data</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>String</code></span>
                    -
                    <span class = "funcText">          
                        The data to save to the machine. The data must be convertible to JSON format.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#saveDatacollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#saveDatacollapseParent" id="saveDatacollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">saveData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span> <span class="p">:</span>

        <span class="c1"># Create a new object and augment it with the key value.</span>
        <span class="n">dataPack</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">dataPack</span><span class="p">[</span><span class="s2">&quot;fileName&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>
        <span class="n">dataPack</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>

        <span class="c1"># Send the request to MachineMotion</span>
        <span class="n">HTTPSend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">IP</span> <span class="o">+</span> <span class="s2">&quot;:8000&quot;</span><span class="p">,</span> <span class="s2">&quot;/saveData&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">dataPack</span><span class="p">))</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#saveDatav1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="saveDatav1_collapseExample">
            <button type="button" data-parent ="#saveDatacollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('saveDataexampleCode', 'saveData')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "saveDatav1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Initialize the key-value pair to save on the controller</span>
<span class="n">dataKey</span> <span class="o">=</span> <span class="s2">&quot;example_key&quot;</span>
<span class="n">dataContent</span> <span class="o">=</span> <span class="s2">&quot;save_this_string_on_the_controller&quot;</span>

<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data: &#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39; retrieved from controller using key &#39;&quot;</span> <span class="o">+</span> <span class="n">dataKey</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>

	<span class="k">return</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="c1"># Saving a string on the controller</span>
<span class="n">mm</span><span class="o">.</span><span class="n">saveData</span><span class="p">(</span><span class="n">dataKey</span><span class="p">,</span> <span class="n">dataContent</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data: &#39;&quot;</span> <span class="o">+</span> <span class="n">dataContent</span> <span class="o">+</span> <span class="s2">&quot;&#39; saved on controller under key &#39;&quot;</span> <span class="o">+</span> <span class="n">dataKey</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>

<span class="c1"># Retreiving data from the controller</span>
<span class="n">retrievedData</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getData</span><span class="p">(</span><span class="n">dataKey</span><span class="p">,</span> <span class="n">templateCallback</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">The Data continues to exist even when the controller is shut off. However, writing to a previously used key will override the previous value.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=setContinuousMove  style="cursor:pointer;" data-toggle="collapse" href= "#setContinuousMoveshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>setContinuousMove</b> </span>
                        (<span class="func funcParamHeading">
                                axis,speed,accel
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#setContinuousMoveshowDescription" id="setContinuousMoveshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Starts an axis using speed mode.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axis</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        Axis to move
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>speed</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        Speed to move the axis at in mm / sec
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>accel</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        Acceleration used to reach the desired speed, in mm / sec^2
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#setContinuousMovecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#setContinuousMovecollapseParent" id="setContinuousMovecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">setContinuousMove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">accel</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="p">:</span>


        <span class="c1"># set motor to speed mode</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;V5 &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getAxisName</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;2&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># Send speed command with accel</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;V4 S&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">speed</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">mech_gain</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">*</span> <span class="n">STEPPER_MOTOR</span><span class="o">.</span><span class="n">steps_per_turn</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">u_step</span><span class="p">[</span><span class="n">axis</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; A&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">accel</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">mech_gain</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">*</span> <span class="n">STEPPER_MOTOR</span><span class="o">.</span><span class="n">steps_per_turn</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">u_step</span><span class="p">[</span><span class="n">axis</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getAxisName</span><span class="p">(</span><span class="n">axis</span><span class="p">))</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#setContinuousMovev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="setContinuousMovev1_collapseExample">
            <button type="button" data-parent ="#setContinuousMovecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('setContinuousMoveexampleCode', 'setContinuousMove')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "setContinuousMovev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>

<span class="c1"># System imports</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="c1"># Custom imports</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">time</span>

<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Create MachineMotion instance</span>
<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="s2">&quot;192.168.7.2&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>


<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">roller_conveyor_mm_turn</span>
<span class="n">CONVEYOR_AXIS</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Input conveyor axis : &quot;</span><span class="p">))</span>
<span class="n">CONVEYOR_STOP_ACC</span> <span class="o">=</span> <span class="mi">100</span>

<span class="k">if</span> <span class="n">CONVEYOR_AXIS</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">CONVEYOR_AXIS</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Conveyor axis number undefined..exit&quot;</span><span class="p">)</span>
  <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start Conveyor Move...&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Continuous move: speed 100mm/s &amp; acceleration 50mm/s^2&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">setContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">stopContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="n">CONVEYOR_STOP_ACC</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Continuous move: speed 500mm/s &amp; acceleration 250mm/s^2&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">setContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">stopContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="n">CONVEYOR_STOP_ACC</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Continuous move: speed 1000mm/s &amp; acceleration 500mm/s^2&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">setContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">stopContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="n">CONVEYOR_STOP_ACC</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Reverse direction of conveyor by changing the polarity of the speed</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Reverse continuous move: speed -1000mm/s &amp; acceleration 500mm/s^2&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">setContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stop Conveyor Move...&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">stopContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="n">CONVEYOR_STOP_ACC</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Example completed&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=setPosition  style="cursor:pointer;" data-toggle="collapse" href= "#setPositionshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>setPosition</b> </span>
                        (<span class="func funcParamHeading">
                                axis,position
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#setPositionshowDescription" id="setPositionshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Override the current position of the specified axis to a new value.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axis</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        Overrides the position on this axis.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>position</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        The new position value in mm.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#setPositioncollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#setPositioncollapseParent" id="setPositioncollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">setPosition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">position</span><span class="p">):</span>

        <span class="c1"># Transmit move command</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;G92 &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__getTrueAxis__</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">position</span><span class="p">))</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#setPositionv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="setPositionv1_collapseExample">
            <button type="button" data-parent ="#setPositioncollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('setPositionexampleCode', 'setPosition')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "setPositionv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span>                                    <span class="c1">#The axis that you&#39;d like to move</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">400</span>                                 <span class="c1">#The max speed you&#39;d like to move at</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>                          <span class="c1">#The constant acceleration and decceleration value for the move</span>
<span class="n">position</span> <span class="o">=</span> <span class="mi">100</span>                              <span class="c1">#The absolute position you&#39;d like to move to</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">rack_pinion_mm_turn</span>    <span class="c1">#The mechanical gain of the actuator on the axis</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_16</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; homed&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Absolute Moves are referenced from home&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAbsoluteMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">position</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">position</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm away from home&quot;</span><span class="p">)</span>

<span class="n">mm</span><span class="o">.</span><span class="n">setPosition</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Absolute moves on axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; are now referenced from &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">position</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm from home. &quot;</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">position2</span> <span class="o">=</span> <span class="mi">30</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Now moving to absolute Position &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">position2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; mm, referenced from location &#39;setPosition&#39; was called&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAbsoluteMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">position2</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is now &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">position2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm from reference position and &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">position</span> <span class="o">+</span> <span class="n">position2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm from home&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=stopContinuousMove  style="cursor:pointer;" data-toggle="collapse" href= "#stopContinuousMoveshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>stopContinuousMove</b> </span>
                        (<span class="func funcParamHeading">
                                axis,accel
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#stopContinuousMoveshowDescription" id="stopContinuousMoveshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Stops an axis using speed mode.
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>axis</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        Axis to move
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>accel</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Number</code></span>
                    -
                    <span class = "funcText">          
                        Acceleration used to reach a null speed, in mm / sec^2
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#stopContinuousMovecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#stopContinuousMovecollapseParent" id="stopContinuousMovecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">stopContinuousMove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">accel</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="p">:</span>


        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">accel</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in accel variable type&#39;</span><span class="p">)</span>

        <span class="c1"># Send speed command with accel</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;V4 S0&quot;</span> <span class="o">+</span> <span class="s2">&quot; A&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">accel</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">mech_gain</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">*</span> <span class="n">STEPPER_MOTOR</span><span class="o">.</span><span class="n">steps_per_turn</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">u_step</span><span class="p">[</span><span class="n">axis</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getAxisName</span><span class="p">(</span><span class="n">axis</span><span class="p">))</span>

        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#stopContinuousMovev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="stopContinuousMovev1_collapseExample">
            <button type="button" data-parent ="#stopContinuousMovecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('stopContinuousMoveexampleCode', 'stopContinuousMove')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "stopContinuousMovev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/python</span>

<span class="c1"># System imports</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="c1"># Custom imports</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">time</span>

<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Create MachineMotion instance</span>
<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="s2">&quot;192.168.7.2&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>


<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">roller_conveyor_mm_turn</span>
<span class="n">CONVEYOR_AXIS</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Input conveyor axis : &quot;</span><span class="p">))</span>
<span class="n">CONVEYOR_STOP_ACC</span> <span class="o">=</span> <span class="mi">100</span>

<span class="k">if</span> <span class="n">CONVEYOR_AXIS</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">CONVEYOR_AXIS</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Conveyor axis number undefined..exit&quot;</span><span class="p">)</span>
  <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start Conveyor Move...&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Continuous move: speed 100mm/s &amp; acceleration 50mm/s^2&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">setContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">stopContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="n">CONVEYOR_STOP_ACC</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Continuous move: speed 500mm/s &amp; acceleration 250mm/s^2&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">setContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">stopContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="n">CONVEYOR_STOP_ACC</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Continuous move: speed 1000mm/s &amp; acceleration 500mm/s^2&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">setContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">stopContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="n">CONVEYOR_STOP_ACC</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Reverse direction of conveyor by changing the polarity of the speed</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Reverse continuous move: speed -1000mm/s &amp; acceleration 500mm/s^2&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">setContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stop Conveyor Move...&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">stopContinuousMove</span><span class="p">(</span><span class="n">CONVEYOR_AXIS</span><span class="p">,</span> <span class="n">CONVEYOR_STOP_ACC</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Example completed&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=triggerEstop  style="cursor:pointer;" data-toggle="collapse" href= "#triggerEstopshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>triggerEstop</b> </span>
                    ( )
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#triggerEstopshowDescription" id="triggerEstopshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Triggers the MachineMotion software emergency stop, cutting power to all drives and enabling brakes (if any). The software E stop must be released (using releaseEstop()) in order to re-enable the machine.
            </div>
        </dd>



        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#triggerEstopcollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#triggerEstopcollapseParent" id="triggerEstopcollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">triggerEstop</span> <span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
        <span class="c1"># Creating return value for the function. If nothing good happens, it will return False</span>
        <span class="n">return_value</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">def</span> <span class="nf">mqttResponse</span><span class="p">()</span> <span class="p">:</span>
            <span class="c1"># Wait for response</span>
            <span class="n">return_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">MQTTsubscribe</span><span class="o">.</span><span class="n">simple</span><span class="p">(</span><span class="n">MQTT</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">ESTOP_TRIGGER_RESPONSE</span><span class="p">,</span> <span class="n">retained</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IP</span><span class="p">)</span><span class="o">.</span><span class="n">payload</span><span class="p">)</span>

            <span class="k">return</span>

        <span class="n">mqttResponseThread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span> <span class="o">=</span> <span class="n">mqttResponse</span><span class="p">)</span>
        <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="c1"># Adding a delay to make sure MQTT simple function is launched before publish is made. Quick fix from bug on App. Launcher.</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>

        <span class="c1"># Publish trigger request on MQTT</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">myMqttClient</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">MQTT</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">ESTOP_TRIGGER_REQUEST</span><span class="p">,</span> <span class="s2">&quot;message is not important&quot;</span><span class="p">)</span>

        <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">MQTT</span><span class="o">.</span><span class="n">TIMEOUT</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">mqttResponseThread</span><span class="o">.</span><span class="n">isAlive</span><span class="p">()</span> <span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;MQTT response timeout!&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="k">return</span> <span class="n">return_value</span>

        <span class="k">return</span> <span class="n">return_value</span>
</pre></div>

        </div>



 
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=unlockBrake  style="cursor:pointer;" data-toggle="collapse" href= "#unlockBrakeshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>unlockBrake</b> </span>
                        (<span class="func funcParamHeading">
                                aux_port_number,safety_adapter_presence
                            </span>)
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#unlockBrakeshowDescription" id="unlockBrakeshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Unlock the brake, by powering on the designated AUX port of the MachineMotion (24V).
            </div>
        </dd>


        <h4> Parameters </h4>
                <div class="indent1">
                    <span class = "funcParam"><b>aux_port_number</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Integer</code></span>
                    -
                    <span class = "funcText">          
                        The number of the AUX port the brake is connected to.
                    </span>
                </div>
                <div class="indent1">
                    <span class = "funcParam"><b>safety_adapter_presence</b></span>
                    <span style="requiredOptional" class ="funcParamType">
                        (
                        Required
                        )
                    </span>
                    <span class = "funcParamType"><code>Boolean</code></span>
                    -
                    <span class = "funcText">          
                        Is a yellow safety adapter plugged in between the brake cable and the AUX port.
                    </span>
                </div>

        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#unlockBrakecollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#unlockBrakecollapseParent" id="unlockBrakecollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">unlockBrake</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="p">:</span>

        <span class="k">if</span> <span class="p">(</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isIoExpanderIdValid</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">)</span> <span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;DEBUG: unexpected unlockBrake parameters: aux_port_number= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;unexpected unlockBrake parameters: aux_port_number= &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="n">topic</span> <span class="o">=</span> <span class="n">MQTT</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">AUX_PORT_SAFETY</span> <span class="k">if</span> <span class="n">safety_adapter_presence</span> <span class="k">else</span> <span class="n">MQTT</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">AUX_PORT_POWER</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">myMqttClient</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">topic</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;/request&#39;</span><span class="p">,</span> <span class="s1">&#39;24V&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#unlockBrakev1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="unlockBrakev1_collapseExample">
            <button type="button" data-parent ="#unlockBrakecollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('unlockBrakeexampleCode', 'unlockBrake')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "unlockBrakev1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1"># When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="c1"># Define the brake parameters</span>
<span class="n">brake_aux_port_number</span> <span class="o">=</span> <span class="mi">1</span>        <span class="c1"># The AUX port number the brake is plugged in</span>
<span class="n">safety_adapter_presence</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Is a yellow safety adapter plugged in between the brake cable and the AUX port</span>

<span class="c1"># Define Axis Parameters</span>
<span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span>                         <span class="c1"># Drive number</span>
<span class="n">mechGain</span> <span class="o">=</span> <span class="n">MECH_GAIN</span><span class="o">.</span><span class="n">rack_pinion_mm_turn</span>

<span class="c1"># Configure the axis</span>
<span class="n">mm</span><span class="o">.</span><span class="n">configAxis</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">MICRO_STEPS</span><span class="o">.</span><span class="n">ustep_8</span><span class="p">,</span> <span class="n">mechGain</span><span class="p">)</span>

<span class="c1"># Read brake state</span>
<span class="n">brake_state</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getBrakeState</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;The brake connected to AUX&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is : &quot;</span> <span class="o">+</span> <span class="n">brake_state</span><span class="p">)</span>

<span class="c1"># Lock the brake</span>
<span class="n">mm</span><span class="o">.</span><span class="n">lockBrake</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">);</span>                <span class="c1"># Wait before reading brake state, for it to get correctly updated</span>

<span class="c1"># Read brake state</span>
<span class="n">brake_state</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getBrakeState</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;The brake connected to AUX&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is : &quot;</span> <span class="o">+</span> <span class="n">brake_state</span><span class="p">)</span>

<span class="c1"># DO NOT MOVE WHILE BRAKE IS ENGAGED</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Waiting two seconds. Do not move the actuator while the brake is locked !&quot;</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                   <span class="c1"># Unlock the brake after two seconds</span>

<span class="c1"># Release the brakes</span>
<span class="n">mm</span><span class="o">.</span><span class="n">unlockBrake</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">);</span>                <span class="c1"># Wait before reading brake state, for it to get correctly updated</span>

<span class="c1"># Read brake state</span>
<span class="n">brake_state</span> <span class="o">=</span> <span class="n">mm</span><span class="o">.</span><span class="n">getBrakeState</span> <span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">,</span> <span class="n">safety_adapter_presence</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;The brake connected to AUX&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">brake_aux_port_number</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is : &quot;</span> <span class="o">+</span> <span class="n">brake_state</span><span class="p">)</span>

<span class="c1"># Home Axis Before Move</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moving home.&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; homed&quot;</span><span class="p">)</span>

<span class="c1"># Move Relative</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mi">400</span>                      <span class="c1"># Speed in mm/sec</span>
<span class="n">acceleration</span> <span class="o">=</span> <span class="mi">500</span>               <span class="c1"># Acceleration in mm/sec^2</span>
<span class="n">distance</span> <span class="o">=</span> <span class="mi">100</span>                   <span class="c1"># Distance in mm</span>
<span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;positive&quot;</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitSpeed</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAcceleration</span><span class="p">(</span><span class="n">acceleration</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitRelativeMove</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moved &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;mm in the &quot;</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">+</span> <span class="s2">&quot; direction&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <dd >
            <div class="funcNote">
                <div class="d-inline"><b>NOTE:</b></div>
                <div class="d-inline">This function is compatible only with V1F and more recent MachineMotions.</div>
            </div>

        </dd>
        <div style="height:10px">
        </div>
    </div>
</dl>
<dl class="funcWrapper" >
    <dt id=waitForMotionCompletion  style="cursor:pointer;" data-toggle="collapse" href= "#waitForMotionCompletionshowDescription" >
        <div class = "row">
            <div class = "col-md-8">
                <h3> 
                    <span class = "funcName"> <b>waitForMotionCompletion</b> </span>
                    ( )
                </h3>
            </div>
        </div>
    </dt>
    <div class="collapse" data-parent ="#waitForMotionCompletionshowDescription" id="waitForMotionCompletionshowDescription">
        <dd>
            <div class="funcText"> <b>Description </b></div>
            <div class="funcText indent1">
                Pauses python program execution until machine has finished its current movement.
            </div>
        </dd>



        <h4> Return Value </h4>
        <div class = "indent1 funcText">
            None
        </div>

        <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#waitForMotionCompletioncollapseSource">
            <h4>Source Code <i class="fas fa-chevron-down"></i></h4>
        </button>

        <div class="collapse" data-parent ="#waitForMotionCompletioncollapseParent" id="waitForMotionCompletioncollapseSource">
                <div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">waitForMotionCompletion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#Sending gCode V0 command to</span>
        <span class="n">reply</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">myGCode</span><span class="o">.</span><span class="n">__emit__</span><span class="p">(</span><span class="s2">&quot;V0&quot;</span><span class="p">)</span>

        <span class="c1">#Check if not error message</span>
        <span class="k">if</span> <span class="p">(</span> <span class="s2">&quot;echo&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">in</span> <span class="n">reply</span> <span class="p">)</span> <span class="p">:</span>

            <span class="c1">#Recursively calls the function until motion is completed</span>
            <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;COMPLETED&quot;</span> <span class="ow">in</span> <span class="n">reply</span><span class="p">)</span> <span class="p">:</span> <span class="k">return</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;Motion not completed : &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">IP</span><span class="p">))</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>

        <span class="k">else</span> <span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error in gCode execution&#39;</span><span class="p">)</span>

        <span class="k">return</span>
</pre></div>

        </div>


        <div>
            <button style="padding-left:0; text-align:left" type="button" class="btn btn-link btn-block" data-toggle="collapse" href= "#waitForMotionCompletionv1_collapseExample"><h4>MachineMotion V1 Example Code</h4> <i class="fas fa-chevron-down"></i></button>
        </div>

        <div class= "collapse"  id="waitForMotionCompletionv1_collapseExample">
            <button type="button" data-parent ="#waitForMotionCompletioncollapseParent"  class="runCodeBtn button button-success button-xs" onclick="copyTextToClipboard('waitForMotionCompletionexampleCode', 'waitForMotionCompletion')">
            <i class="fas fa-copy"></i>  Copy Code
            </button>
            <div id = "waitForMotionCompletionv1_exampleCode">
                <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">MachineMotion</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Define a callback to process controller gCode responses (if desired)</span>
<span class="k">def</span> <span class="nf">templateCallback</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
   <span class="nb">print</span> <span class="p">(</span> <span class="s2">&quot;Controller gCode responses &quot;</span> <span class="o">+</span> <span class="n">data</span> <span class="p">)</span>

<span class="n">mm</span> <span class="o">=</span> <span class="n">MachineMotion</span><span class="p">(</span><span class="n">DEFAULT_IP_ADDRESS</span><span class="o">.</span><span class="n">usb_windows</span><span class="p">,</span> <span class="n">gCodeCallback</span> <span class="o">=</span> <span class="n">templateCallback</span><span class="p">)</span>

<span class="c1">#When starting a program, one must remove the software stop before moving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Removing software stop&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">releaseEstop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt; Resetting system&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">resetSystem</span><span class="p">()</span>

<span class="n">mm</span><span class="o">.</span><span class="n">emitHome</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Move the axis one to position 100 mm</span>
<span class="n">mm</span><span class="o">.</span><span class="n">emitAbsoluteMove</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This message gets printed immediately&quot;</span><span class="p">)</span>
<span class="n">mm</span><span class="o">.</span><span class="n">waitForMotionCompletion</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This message gets printed once machine is finished moving&quot;</span><span class="p">)</span>
</pre></div>

            </div>
        </div>

 
        <div style="height:10px">
        </div>
    </div>
</dl>

    </div>
</div>

<style>

    .highlight pre { background-color: #404040 }
.highlight .hll { background-color: #404040 }
.highlight .c { color: #999999; font-style: italic } /* Comment */
.highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.highlight .g { color: #d0d0d0 } /* Generic */
.highlight .k { color: #6ab825; font-weight: bold } /* Keyword */
.highlight .l { color: #d0d0d0 } /* Literal */
.highlight .n { color: #d0d0d0 } /* Name */
.highlight .o { color: #d0d0d0 } /* Operator */
.highlight .x { color: #d0d0d0 } /* Other */
.highlight .p { color: #d0d0d0 } /* Punctuation */
.highlight .cm { color: #999999; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #cd2828; font-weight: bold } /* Comment.Preproc */
.highlight .c1 { color: #999999; font-style: italic } /* Comment.Single */
.highlight .cs { color: #e50808; font-weight: bold; background-color: #520000 } /* Comment.Special */
.highlight .gd { color: #d22323 } /* Generic.Deleted */
.highlight .ge { color: #d0d0d0; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #d22323 } /* Generic.Error */
.highlight .gh { color: #ffffff; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #589819 } /* Generic.Inserted */
.highlight .go { color: #cccccc } /* Generic.Output */
.highlight .gp { color: #aaaaaa } /* Generic.Prompt */
.highlight .gs { color: #d0d0d0; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #ffffff; text-decoration: underline } /* Generic.Subheading */
.highlight .gt { color: #d22323 } /* Generic.Traceback */
.highlight .kc { color: #6ab825; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #6ab825; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #6ab825; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #6ab825 } /* Keyword.Pseudo */
.highlight .kr { color: #6ab825; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #6ab825; font-weight: bold } /* Keyword.Type */
.highlight .ld { color: #d0d0d0 } /* Literal.Date */
.highlight .m { color: #3677a9 } /* Literal.Number */
.highlight .s { color: #ed9d13 } /* Literal.String */
.highlight .na { color: #bbbbbb } /* Name.Attribute */
.highlight .nb { color: #24909d } /* Name.Builtin */
.highlight .nc { color: #447fcf; text-decoration: underline } /* Name.Class */
.highlight .no { color: #40ffff } /* Name.Constant */
.highlight .nd { color: #ffa500 } /* Name.Decorator */
.highlight .ni { color: #d0d0d0 } /* Name.Entity */
.highlight .ne { color: #bbbbbb } /* Name.Exception */
.highlight .nf { color: #447fcf } /* Name.Function */
.highlight .nl { color: #d0d0d0 } /* Name.Label */
.highlight .nn { color: #447fcf; text-decoration: underline } /* Name.Namespace */
.highlight .nx { color: #d0d0d0 } /* Name.Other */
.highlight .py { color: #d0d0d0 } /* Name.Property */
.highlight .nt { color: #6ab825; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #40ffff } /* Name.Variable */
.highlight .ow { color: #6ab825; font-weight: bold } /* Operator.Word */
.highlight .w { color: #666666 } /* Text.Whitespace */
.highlight .mf { color: #3677a9 } /* Literal.Number.Float */
.highlight .mh { color: #3677a9 } /* Literal.Number.Hex */
.highlight .mi { color: #3677a9 } /* Literal.Number.Integer */
.highlight .mo { color: #3677a9 } /* Literal.Number.Oct */
.highlight .sb { color: #ed9d13 } /* Literal.String.Backtick */
.highlight .sc { color: #ed9d13 } /* Literal.String.Char */
.highlight .sd { color: #ed9d13 } /* Literal.String.Doc */
.highlight .s2 { color: #ed9d13 } /* Literal.String.Double */
.highlight .se { color: #ed9d13 } /* Literal.String.Escape */
.highlight .sh { color: #ed9d13 } /* Literal.String.Heredoc */
.highlight .si { color: #ed9d13 } /* Literal.String.Interpol */
.highlight .sx { color: #ffa500 } /* Literal.String.Other */
.highlight .sr { color: #ed9d13 } /* Literal.String.Regex */
.highlight .s1 { color: #ed9d13 } /* Literal.String.Single */
.highlight .ss { color: #ed9d13 } /* Literal.String.Symbol */
.highlight .bp { color: #24909d } /* Name.Builtin.Pseudo */
.highlight .vc { color: #40ffff } /* Name.Variable.Class */
.highlight .vg { color: #40ffff } /* Name.Variable.Global */
.highlight .vi { color: #40ffff } /* Name.Variable.Instance */
.highlight .il { color: #3677a9 } /* Literal.Number.Integer.Long */



    

    :root {
        --ventionBlue:#1C344F;
        --accentBlue: #197CE0;
        --CTAGreen: #1AC876;
        --ventionGrey: #Eff2f7;
        --ventionDarkGrey: #BEC9CD;
        
        
        --t1: 19px;
        --t2: 14.9px;
        --t3: 11.8px;
        --t4: 9.2px;
        
        }
        
        
        a:hover {
            color:var(--ventionDarkGrey)
        }
        
        #div1 {
            background-color: var(--main-bg-color);
        }
        
        
        
        .indent1{
            margin-left: 25px;
        }
        
        .indent2{
            margin-left: 100px;
        }
        
        
        .funcWrapper {
            background: var(--ventionGrey);
            border-left: 2px solid var(--accentBlue);
            margin-top:5px;
            padding-left: 20px;
        }
        
        .funcClassName{
            font-size: var(--t3);
            font-style: italic;
            margin-left: -20px;
        }
        
        .funcName {
            font-size: var(--t2);
        }
        
        .funcParamHeading{
            font-size: var(--t2);
            font-style: italic;
            padding-right:10px;
            font-family: monospace;
        }
        
        .funcParam{
            color: var(--ventionBlue);
            font-size: var(--t2);
            font-family: monospace;
        }
        
        .funcParamType{
            color: var(--ventionBlue);
            font-size: var(--t3);
            
        }
        
        .funcText{
            margin-top: 10px;
            background: var(--ventionGrey);
            font-size: var(--t2);
        }
        
        .code-demo {
            width: 90%;
            font-size:0.8em;
            align-content: center;
        }
        
        
        .runCodeBtn {
            position: relative;
            bottom: -40px;
            left: 78%;
        }
        
        
        #sideNav .nav{
            border-left: 2px solid var(--ventionGrey);
        }
        
        .myTocHeader{
            font-size: var(--t2);
            color: var(--ventionDarkGrey);
            margin-left: 5px;
        }
        
        .myTocItem a{
            margin-top: 2px;
            padding-left: 10px;
            color: var(--ventionBlue);
            font-size: var(--t3);
            text-decoration: none;
        }
        
        .myTocItem a:hover{
            padding-left: 12px;
            color: var(--accentBlue);
            -moz-transition: padding-left.1s ease-in;
            -o-transition: padding-left  .1s ease-in;
            -webkit-transition: padding-left  .1s ease-in;
            transition: padding-left  .1s ease-in;
        }
        
        
        .sticky-side-nav {
            padding-top: 90px;
            position: fixed;
            top: 0;
            -moz-transition: padding-top.3s ease-in;
            -o-transition: padding-top  .3s ease-in;
            -webkit-transition: padding-top  .3s ease-in;
            transition: padding-top  .3s ease-in;
        }
        
        .api-button{
            font-size: var(--t3);
            display: inline-block;
            margin-right: 5px;
        }
        
        .card {
            margin: 0 auto; /* Added */
            float: none; /* Added */
            margin-bottom: 10px; /* Added */
        }
        
        .funcNote {
            width: 80%;
            margin-top: 10px;
            padding-top: 5px;
            padding-bottom: 10px;
            font-style: italic;
            font-size: var(--t3);
        
            border-top: 1px solid var(--ventionDarkGrey);
        }
        
        .requiredOptional {
        
            font-style: italic;
        }
        
        /* used to adjust the scroll height when menu nav is clicked */
        .anchor {
            display: block;
            position: relative;
            top: -250px;
            visibility: hidden;
        }
        
        code {
            color: var(--ventionBlue);
        }
        
        .card-text{
            word-wrap: break-word;
          }
        

</style>